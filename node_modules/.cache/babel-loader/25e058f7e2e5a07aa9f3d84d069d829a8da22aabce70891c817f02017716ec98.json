{"ast":null,"code":"var _jsxFileName = \"/Users/dkjesuschua/Documents/demo_cpq/src/components/LiveProcessingProductManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LiveProcessingProductManager = ({\n  quote,\n  rooms,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  _s();\n  var _getProduct, _quote$subtotal, _quote$finalTotal;\n  const [selectedItemId, setSelectedItemId] = useState(null);\n  const getProduct = productId => products.find(p => p.id === productId);\n  const getProcessing = processingId => processings.find(p => p.id === processingId);\n  const getAvailableProcessings = (productId, currentProcessings) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n    let available = processings.filter(proc => proc.applicableProductCategories.includes(product.category));\n\n    // Apply processing rules for mutual exclusions\n    processingRules.forEach(rule => {\n      if (rule.type === 'mutual_exclusion' && rule.conditions.processingIds && currentProcessings.some(id => rule.conditions.processingIds.includes(id))) {\n        available = available.filter(proc => !rule.conditions.processingIds.includes(proc.id) || currentProcessings.includes(proc.id));\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n    return available;\n  };\n  const addProcessingToItem = (itemId, processingId) => {\n    const processing = getProcessing(processingId);\n    if (!processing) return;\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const product = getProduct(item.productId);\n        if (!product) return item;\n        let calculatedPrice = 0;\n        if (processing.pricingType === 'percentage') {\n          calculatedPrice = product.basePrice * processing.price;\n        } else {\n          calculatedPrice = processing.price;\n        }\n        const newProcessing = {\n          processingId,\n          calculatedPrice,\n          appliedDate: new Date().toISOString()\n        };\n        const updatedItem = {\n          ...item,\n          appliedProcessings: [...item.appliedProcessings, newProcessing]\n        };\n\n        // Recalculate total price\n        const processingTotal = updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        updatedItem.totalPrice = (product.basePrice + processingTotal) * item.quantity;\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const removeProcessingFromItem = (itemId, processingId) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const product = getProduct(item.productId);\n        if (!product) return item;\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n\n        // Recalculate total price\n        const processingTotal = updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        updatedItem.totalPrice = (product.basePrice + processingTotal) * item.quantity;\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const updateQuantity = (itemId, newQuantity) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const product = getProduct(item.productId);\n        if (!product) return item;\n        const updatedItem = {\n          ...item,\n          quantity: newQuantity\n        };\n        const processingTotal = updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        updatedItem.totalPrice = (product.basePrice + processingTotal) * newQuantity;\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const removeItem = itemId => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n    if (selectedItemId === itemId) {\n      setSelectedItemId(null);\n    }\n  };\n  const recalculateQuote = updatedQuote => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const customerDiscount = subtotal * (updatedQuote.customerDiscount / 100);\n    const orderDiscount = updatedQuote.orderDiscount || 0;\n    const totalDiscount = customerDiscount + orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n    const finalQuote = {\n      ...updatedQuote,\n      orderDiscount,\n      subtotal,\n      totalDiscount,\n      finalTotal\n    };\n    onQuoteUpdate(finalQuote);\n  };\n  const selectedItem = selectedItemId ? quote.items.find(item => item.id === selectedItemId) : null;\n  const selectedProduct = selectedItem ? getProduct(selectedItem.productId) : null;\n  const availableProcessings = selectedItem ? getAvailableProcessings(selectedItem.productId, selectedItem.appliedProcessings.map(ap => ap.processingId)) : [];\n\n  // Group items by room for better organization\n  const itemsByRoom = quote.items.reduce((acc, item) => {\n    const roomId = item.roomId || 'unassigned';\n    if (!acc[roomId]) {\n      acc[roomId] = [];\n    }\n    acc[roomId].push(item);\n    return acc;\n  }, {});\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex space-x-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: quote.items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12 text-gray-500\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No products in quote. Add products from the previous step.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: Object.entries(itemsByRoom).map(([roomId, roomItems]) => {\n          const room = rooms.find(r => r.id === roomId);\n          const roomTotal = roomItems.reduce((sum, item) => sum + item.totalPrice * item.quantity, 0);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-t-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold\",\n                    children: (room === null || room === void 0 ? void 0 : room.name) || 'Unassigned Room'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-blue-100 text-sm\",\n                    children: [roomItems.length, \" product\", roomItems.length !== 1 ? 's' : '', \" \\u2022 Total: $\", roomTotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-blue-500 rounded-full px-3 py-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      children: roomItems.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"min-w-full divide-y divide-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Processings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"bg-white divide-y divide-gray-200\",\n                  children: roomItems.map(item => {\n                    const product = getProduct(item.productId);\n                    const isSelected = selectedItemId === item.id;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: `hover:bg-gray-50 cursor-pointer ${isSelected ? 'bg-blue-50 border-l-4 border-blue-500' : ''}`,\n                      onClick: () => setSelectedItemId(item.id),\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm font-medium text-gray-900\",\n                            children: product === null || product === void 0 ? void 0 : product.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 230,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-500\",\n                            children: product === null || product === void 0 ? void 0 : product.description\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 231,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          min: \"1\",\n                          value: item.quantity,\n                          onChange: e => updateQuantity(item.id, parseInt(e.target.value) || 1),\n                          className: \"w-16 px-2 py-1 border border-gray-300 rounded text-center\",\n                          onClick: e => e.stopPropagation()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 235,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 234,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex flex-wrap gap-1\",\n                          children: [item.appliedProcessings.map(ap => {\n                            const processing = getProcessing(ap.processingId);\n                            return /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",\n                              children: [processing === null || processing === void 0 ? void 0 : processing.name, /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: e => {\n                                  e.stopPropagation();\n                                  removeProcessingFromItem(item.id, ap.processingId);\n                                },\n                                className: \"ml-1 text-blue-600 hover:text-blue-800\",\n                                children: \"\\xD7\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 251,\n                                columnNumber: 31\n                              }, this)]\n                            }, ap.processingId, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 249,\n                              columnNumber: 29\n                            }, this);\n                          }), item.appliedProcessings.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-sm text-gray-400\",\n                            children: \"No processings\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 264,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 245,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                        children: [\"$\", item.totalPrice.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: e => {\n                            e.stopPropagation();\n                            removeItem(item.id);\n                          },\n                          className: \"text-red-600 hover:text-red-800\",\n                          children: \"Remove\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 272,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 271,\n                        columnNumber: 21\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 19\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this)]\n          }, roomId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-80 bg-white border border-gray-200 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-900\",\n          children: \"Processing Options\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 9\n        }, this), selectedItem ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: [\"Configure \", (_getProduct = getProduct(selectedItem.productId)) === null || _getProduct === void 0 ? void 0 : _getProduct.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: \"Select a product to configure processings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 max-h-96 overflow-y-auto\",\n        children: !selectedItem ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click on a product to view processing options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [selectedItem.appliedProcessings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-900 mb-2\",\n              children: \"Applied Processings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: selectedItem.appliedProcessings.map(proc => {\n                const processing = getProcessing(proc.processingId);\n                const isInherited = proc.isInherited;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex justify-between items-center p-3 rounded-lg ${isInherited ? 'bg-green-50 border border-green-200' : 'bg-blue-50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `font-medium ${isInherited ? 'text-green-900' : 'text-blue-900'}`,\n                        children: processing === null || processing === void 0 ? void 0 : processing.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 29\n                      }, this), isInherited && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"bg-green-600 text-white text-xs px-2 py-1 rounded\",\n                        children: \"Inherited\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-xs ${isInherited ? 'text-green-700' : 'text-blue-700'}`,\n                      children: processing === null || processing === void 0 ? void 0 : processing.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-green-600\",\n                      children: [\"+$\", proc.calculatedPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => removeProcessingFromItem(selectedItem.id, proc.processingId),\n                    disabled: isInherited,\n                    className: `px-2 py-1 rounded text-xs ${isInherited ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700 text-white'}`,\n                    title: isInherited ? 'Inherited processings cannot be removed' : 'Remove processing',\n                    children: isInherited ? 'Locked' : 'Remove'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this)]\n                }, proc.processingId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-900 mb-2\",\n              children: \"Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [getAvailableProcessings(selectedItem.productId, selectedItem.appliedProcessings.map(p => p.processingId)).map(processing => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center bg-gray-50 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-gray-900\",\n                    children: processing.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-600\",\n                    children: processing.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-green-600\",\n                    children: [\"+$\", processing.price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addProcessingToItem(selectedItem.id, processing.id),\n                  className: \"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this)]\n              }, processing.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 21\n              }, this)), getAvailableProcessings(selectedItem.productId, selectedItem.appliedProcessings.map(p => p.processingId)).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500 italic\",\n                children: \"No additional processings available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-64 bg-white border border-gray-200 rounded-lg p-4 h-fit\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Quote Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Subtotal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", ((_quote$subtotal = quote.subtotal) === null || _quote$subtotal === void 0 ? void 0 : _quote$subtotal.toFixed(2)) || '0.00']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 9\n        }, this), quote.customerDiscount && quote.customerDiscount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-red-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Customer Discount (\", quote.customerDiscount, \"%):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"-$\", ((quote.subtotal || 0) * quote.customerDiscount / 100).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), quote.orderDiscount && quote.orderDiscount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-red-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Order Discount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"-$\", quote.orderDiscount.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-lg font-semibold\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Final Total:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600\",\n            children: [\"$\", ((_quote$finalTotal = quote.finalTotal) === null || _quote$finalTotal === void 0 ? void 0 : _quote$finalTotal.toFixed(2)) || '0.00']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveProcessingProductManager, \"8gR68XDEV0ok0+tWS1uvA9OvtQg=\");\n_c = LiveProcessingProductManager;\nexport default LiveProcessingProductManager;\nvar _c;\n$RefreshReg$(_c, \"LiveProcessingProductManager\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","LiveProcessingProductManager","quote","rooms","products","processings","processingRules","productDependencies","onQuoteUpdate","_s","_getProduct","_quote$subtotal","_quote$finalTotal","selectedItemId","setSelectedItemId","getProduct","productId","find","p","id","getProcessing","processingId","getAvailableProcessings","currentProcessings","product","available","filter","proc","applicableProductCategories","includes","category","forEach","rule","type","conditions","processingIds","some","addProcessingToItem","itemId","processing","updatedItems","items","map","item","calculatedPrice","pricingType","basePrice","price","newProcessing","appliedDate","Date","toISOString","updatedItem","appliedProcessings","processingTotal","reduce","sum","ap","totalPrice","quantity","recalculateQuote","removeProcessingFromItem","updateQuantity","newQuantity","removeItem","updatedQuote","subtotal","customerDiscount","orderDiscount","totalDiscount","finalTotal","finalQuote","selectedItem","selectedProduct","availableProcessings","itemsByRoom","acc","roomId","push","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","roomItems","room","r","roomTotal","name","toFixed","isSelected","onClick","description","min","value","onChange","e","parseInt","target","stopPropagation","isInherited","disabled","title","_c","$RefreshReg$"],"sources":["/Users/dkjesuschua/Documents/demo_cpq/src/components/LiveProcessingProductManager.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Quote, Product, Processing, ProcessingRule, ProductDependency, Room } from '../types';\n\ninterface LiveProcessingProductManagerProps {\n  quote: Quote;\n  rooms: Room[];\n  products: Product[];\n  processings: Processing[];\n  processingRules: ProcessingRule[];\n  productDependencies: ProductDependency[];\n  onQuoteUpdate: (quote: Quote) => void;\n}\n\nconst LiveProcessingProductManager: React.FC<LiveProcessingProductManagerProps> = ({\n  quote,\n  rooms,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n  const getProduct = (productId: string) => products.find(p => p.id === productId);\n  const getProcessing = (processingId: string) => processings.find(p => p.id === processingId);\n\n  const getAvailableProcessings = (productId: string, currentProcessings: string[]) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    let available = processings.filter(proc => \n      proc.applicableProductCategories.includes(product.category)\n    );\n\n    // Apply processing rules for mutual exclusions\n    processingRules.forEach(rule => {\n      if (rule.type === 'mutual_exclusion' && rule.conditions.processingIds && \n          currentProcessings.some(id => rule.conditions.processingIds!.includes(id))) {\n        available = available.filter(proc => \n          !rule.conditions.processingIds!.includes(proc.id) || currentProcessings.includes(proc.id));\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n\n    return available;\n  };\n\n  const addProcessingToItem = (itemId: string, processingId: string) => {\n    const processing = getProcessing(processingId);\n    if (!processing) return;\n\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const product = getProduct(item.productId);\n        if (!product) return item;\n\n        let calculatedPrice = 0;\n        if (processing.pricingType === 'percentage') {\n          calculatedPrice = product.basePrice * processing.price;\n        } else {\n          calculatedPrice = processing.price;\n        }\n\n        const newProcessing = {\n          processingId,\n          calculatedPrice,\n          appliedDate: new Date().toISOString()\n        };\n\n        const updatedItem = {\n          ...item,\n          appliedProcessings: [...item.appliedProcessings, newProcessing]\n        };\n\n        // Recalculate total price\n        const processingTotal = updatedItem.appliedProcessings.reduce((sum: number, ap: any) => sum + ap.calculatedPrice, 0);\n        updatedItem.totalPrice = (product.basePrice + processingTotal) * item.quantity;\n\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeProcessingFromItem = (itemId: string, processingId: string) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const product = getProduct(item.productId);\n        if (!product) return item;\n\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter((ap: any) => ap.processingId !== processingId)\n        };\n\n        // Recalculate total price\n        const processingTotal = updatedItem.appliedProcessings.reduce((sum: number, ap: any) => sum + ap.calculatedPrice, 0);\n        updatedItem.totalPrice = (product.basePrice + processingTotal) * item.quantity;\n\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const updateQuantity = (itemId: string, newQuantity: number) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const product = getProduct(item.productId);\n        if (!product) return item;\n\n        const updatedItem = { ...item, quantity: newQuantity };\n        const processingTotal = updatedItem.appliedProcessings.reduce((sum: number, ap: any) => sum + ap.calculatedPrice, 0);\n        updatedItem.totalPrice = (product.basePrice + processingTotal) * newQuantity;\n\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeItem = (itemId: string) => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({ ...quote, items: updatedItems });\n    if (selectedItemId === itemId) {\n      setSelectedItemId(null);\n    }\n  };\n\n  const recalculateQuote = (updatedQuote: Quote) => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const customerDiscount = subtotal * (updatedQuote.customerDiscount / 100);\n    const orderDiscount = updatedQuote.orderDiscount || 0;\n    const totalDiscount = customerDiscount + orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n\n    const finalQuote = {\n      ...updatedQuote,\n      orderDiscount,\n      subtotal,\n      totalDiscount,\n      finalTotal\n    };\n\n    onQuoteUpdate(finalQuote);\n  };\n\n  const selectedItem = selectedItemId ? quote.items.find(item => item.id === selectedItemId) : null;\n  const selectedProduct = selectedItem ? getProduct(selectedItem.productId) : null;\n  const availableProcessings = selectedItem ? getAvailableProcessings(selectedItem.productId, selectedItem.appliedProcessings.map((ap: any) => ap.processingId)) : [];\n\n  // Group items by room for better organization\n  const itemsByRoom = quote.items.reduce((acc, item) => {\n    const roomId = item.roomId || 'unassigned';\n    if (!acc[roomId]) {\n      acc[roomId] = [];\n    }\n    acc[roomId].push(item);\n    return acc;\n  }, {} as Record<string, typeof quote.items>);\n\n  return (\n    <div className=\"flex space-x-6\">\n      {/* Left Side - Product Cards Organized by Room */}\n      <div className=\"flex-1\">\n        {quote.items.length === 0 ? (\n          <div className=\"text-center py-12 text-gray-500\">\n            <p>No products in quote. Add products from the previous step.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {Object.entries(itemsByRoom).map(([roomId, roomItems]) => {\n              const room = rooms.find(r => r.id === roomId);\n              const roomTotal = roomItems.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);\n              \n              return (\n                <div key={roomId} className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n                  {/* Room Header */}\n                  <div className=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-t-lg\">\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <h3 className=\"text-lg font-semibold\">\n                          {room?.name || 'Unassigned Room'}\n                        </h3>\n                        <p className=\"text-blue-100 text-sm\">\n                          {roomItems.length} product{roomItems.length !== 1 ? 's' : ''} • Total: ${roomTotal.toFixed(2)}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"bg-blue-500 rounded-full px-3 py-1\">\n                          <span className=\"text-sm font-medium\">{roomItems.length}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Room Products Table */}\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200\">\n                      <thead className=\"bg-gray-50\">\n                        <tr>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Product</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Qty</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Processings</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Price</th>\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {roomItems.map((item) => {\n                const product = getProduct(item.productId);\n                const isSelected = selectedItemId === item.id;\n                \n                return (\n                  <tr \n                    key={item.id} \n                    className={`hover:bg-gray-50 cursor-pointer ${isSelected ? 'bg-blue-50 border-l-4 border-blue-500' : ''}`}\n                    onClick={() => setSelectedItemId(item.id)}\n                  >\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{product?.name}</div>\n                        <div className=\"text-sm text-gray-500\">{product?.description}</div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={item.quantity}\n                        onChange={(e) => updateQuantity(item.id, parseInt(e.target.value) || 1)}\n                        className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex flex-wrap gap-1\">\n                        {item.appliedProcessings.map((ap: any) => {\n                          const processing = getProcessing(ap.processingId);\n                          return (\n                            <span key={ap.processingId} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              {processing?.name}\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  removeProcessingFromItem(item.id, ap.processingId);\n                                }}\n                                className=\"ml-1 text-blue-600 hover:text-blue-800\"\n                              >\n                                ×\n                              </button>\n                            </span>\n                          );\n                        })}\n                        {item.appliedProcessings.length === 0 && (\n                          <span className=\"text-sm text-gray-400\">No processings</span>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      ${item.totalPrice.toFixed(2)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          removeItem(item.id);\n                        }}\n                        className=\"text-red-600 hover:text-red-800\"\n                      >\n                        Remove\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n\n    {/* Right Side - Processing Configuration Panel */}\n    <div className=\"w-80 bg-white border border-gray-200 rounded-lg\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <h3 className=\"font-semibold text-gray-900\">Processing Options</h3>\n        {selectedItem ? (\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Configure {getProduct(selectedItem.productId)?.name}\n          </p>\n        ) : (\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Select a product to configure processings\n          </p>\n        )}\n      </div>\n\n      <div className=\"p-4 max-h-96 overflow-y-auto\">\n        {!selectedItem ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            <p>Click on a product to view processing options</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {/* Applied Processings */}\n            {selectedItem.appliedProcessings.length > 0 && (\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-2\">Applied Processings</h4>\n                <div className=\"space-y-2\">\n                  {selectedItem.appliedProcessings.map((proc: any) => {\n                    const processing = getProcessing(proc.processingId);\n                    const isInherited = proc.isInherited;\n                    return (\n                      <div key={proc.processingId} className={`flex justify-between items-center p-3 rounded-lg ${\n                        isInherited ? 'bg-green-50 border border-green-200' : 'bg-blue-50'\n                      }`}>\n                        <div>\n                          <div className=\"flex items-center space-x-2\">\n                            <p className={`font-medium ${isInherited ? 'text-green-900' : 'text-blue-900'}`}>\n                              {processing?.name}\n                            </p>\n                            {isInherited && (\n                              <span className=\"bg-green-600 text-white text-xs px-2 py-1 rounded\">\n                                Inherited\n                              </span>\n                            )}\n                          </div>\n                          <p className={`text-xs ${isInherited ? 'text-green-700' : 'text-blue-700'}`}>\n                            {processing?.description}\n                          </p>\n                          <p className=\"text-xs text-green-600\">\n                            +${proc.calculatedPrice.toFixed(2)}\n                          </p>\n                        </div>\n                        <button\n                          onClick={() => removeProcessingFromItem(selectedItem.id, proc.processingId)}\n                          disabled={isInherited}\n                          className={`px-2 py-1 rounded text-xs ${\n                            isInherited \n                              ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \n                              : 'bg-red-600 hover:bg-red-700 text-white'\n                          }`}\n                          title={isInherited ? 'Inherited processings cannot be removed' : 'Remove processing'}\n                        >\n                          {isInherited ? 'Locked' : 'Remove'}\n                        </button>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n\n            {/* Available Processings */}\n            <div>\n              <h4 className=\"font-medium text-gray-900 mb-2\">Available</h4>\n              <div className=\"space-y-2\">\n                {getAvailableProcessings(selectedItem.productId, selectedItem.appliedProcessings.map((p: any) => p.processingId))\n                  .map((processing) => (\n                    <div key={processing.id} className=\"flex justify-between items-center bg-gray-50 p-3 rounded-lg\">\n                      <div>\n                        <p className=\"font-medium text-gray-900\">{processing.name}</p>\n                        <p className=\"text-xs text-gray-600\">{processing.description}</p>\n                        <p className=\"text-xs text-green-600\">\n                          +${processing.price.toFixed(2)}\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => addProcessingToItem(selectedItem.id, processing.id)}\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                  ))}\n                \n                {getAvailableProcessings(selectedItem.productId, selectedItem.appliedProcessings.map((p: any) => p.processingId)).length === 0 && (\n                  <p className=\"text-sm text-gray-500 italic\">No additional processings available</p>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n\n    {/* Quote Summary Panel */}\n    <div className=\"w-64 bg-white border border-gray-200 rounded-lg p-4 h-fit\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quote Summary</h3>\n      \n      <div className=\"space-y-2\">\n        <div className=\"flex justify-between\">\n          <span>Subtotal:</span>\n          <span>${quote.subtotal?.toFixed(2) || '0.00'}</span>\n        </div>\n        \n        {quote.customerDiscount && quote.customerDiscount > 0 && (\n          <div className=\"flex justify-between text-red-600\">\n            <span>Customer Discount ({quote.customerDiscount}%):</span>\n            <span>-${((quote.subtotal || 0) * quote.customerDiscount / 100).toFixed(2)}</span>\n          </div>\n        )}\n        \n        {quote.orderDiscount && quote.orderDiscount > 0 && (\n          <div className=\"flex justify-between text-red-600\">\n            <span>Order Discount:</span>\n            <span>-${quote.orderDiscount.toFixed(2)}</span>\n          </div>\n        )}\n        \n        <hr className=\"my-2\" />\n        \n        <div className=\"flex justify-between text-lg font-semibold\">\n          <span>Final Total:</span>\n          <span className=\"text-green-600\">${quote.finalTotal?.toFixed(2) || '0.00'}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  );\n};\n\nexport default LiveProcessingProductManager;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAaxC,MAAMC,4BAAyE,GAAGA,CAAC;EACjFC,KAAK;EACLC,KAAK;EACLC,QAAQ;EACRC,WAAW;EACXC,eAAe;EACfC,mBAAmB;EACnBC;AACF,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,WAAA,EAAAC,eAAA,EAAAC,iBAAA;EACJ,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGhB,QAAQ,CAAgB,IAAI,CAAC;EACzE,MAAMiB,UAAU,GAAIC,SAAiB,IAAKZ,QAAQ,CAACa,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKH,SAAS,CAAC;EAChF,MAAMI,aAAa,GAAIC,YAAoB,IAAKhB,WAAW,CAACY,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKE,YAAY,CAAC;EAE5F,MAAMC,uBAAuB,GAAGA,CAACN,SAAiB,EAAEO,kBAA4B,KAAK;IACnF,MAAMC,OAAO,GAAGT,UAAU,CAACC,SAAS,CAAC;IACrC,IAAI,CAACQ,OAAO,EAAE,OAAO,EAAE;IAEvB,IAAIC,SAAS,GAAGpB,WAAW,CAACqB,MAAM,CAACC,IAAI,IACrCA,IAAI,CAACC,2BAA2B,CAACC,QAAQ,CAACL,OAAO,CAACM,QAAQ,CAC5D,CAAC;;IAED;IACAxB,eAAe,CAACyB,OAAO,CAACC,IAAI,IAAI;MAC9B,IAAIA,IAAI,CAACC,IAAI,KAAK,kBAAkB,IAAID,IAAI,CAACE,UAAU,CAACC,aAAa,IACjEZ,kBAAkB,CAACa,IAAI,CAACjB,EAAE,IAAIa,IAAI,CAACE,UAAU,CAACC,aAAa,CAAEN,QAAQ,CAACV,EAAE,CAAC,CAAC,EAAE;QAC9EM,SAAS,GAAGA,SAAS,CAACC,MAAM,CAACC,IAAI,IAC/B,CAACK,IAAI,CAACE,UAAU,CAACC,aAAa,CAAEN,QAAQ,CAACF,IAAI,CAACR,EAAE,CAAC,IAAII,kBAAkB,CAACM,QAAQ,CAACF,IAAI,CAACR,EAAE,CAAC,CAAC;MAC9F;IACF,CAAC,CAAC;;IAEF;IACAM,SAAS,GAAGA,SAAS,CAACC,MAAM,CAACC,IAAI,IAAI,CAACJ,kBAAkB,CAACM,QAAQ,CAACF,IAAI,CAACR,EAAE,CAAC,CAAC;IAE3E,OAAOM,SAAS;EAClB,CAAC;EAED,MAAMY,mBAAmB,GAAGA,CAACC,MAAc,EAAEjB,YAAoB,KAAK;IACpE,MAAMkB,UAAU,GAAGnB,aAAa,CAACC,YAAY,CAAC;IAC9C,IAAI,CAACkB,UAAU,EAAE;IAEjB,MAAMC,YAAY,GAAGtC,KAAK,CAACuC,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;MAC3C,IAAIA,IAAI,CAACxB,EAAE,KAAKmB,MAAM,EAAE;QACtB,MAAMd,OAAO,GAAGT,UAAU,CAAC4B,IAAI,CAAC3B,SAAS,CAAC;QAC1C,IAAI,CAACQ,OAAO,EAAE,OAAOmB,IAAI;QAEzB,IAAIC,eAAe,GAAG,CAAC;QACvB,IAAIL,UAAU,CAACM,WAAW,KAAK,YAAY,EAAE;UAC3CD,eAAe,GAAGpB,OAAO,CAACsB,SAAS,GAAGP,UAAU,CAACQ,KAAK;QACxD,CAAC,MAAM;UACLH,eAAe,GAAGL,UAAU,CAACQ,KAAK;QACpC;QAEA,MAAMC,aAAa,GAAG;UACpB3B,YAAY;UACZuB,eAAe;UACfK,WAAW,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACtC,CAAC;QAED,MAAMC,WAAW,GAAG;UAClB,GAAGT,IAAI;UACPU,kBAAkB,EAAE,CAAC,GAAGV,IAAI,CAACU,kBAAkB,EAAEL,aAAa;QAChE,CAAC;;QAED;QACA,MAAMM,eAAe,GAAGF,WAAW,CAACC,kBAAkB,CAACE,MAAM,CAAC,CAACC,GAAW,EAAEC,EAAO,KAAKD,GAAG,GAAGC,EAAE,CAACb,eAAe,EAAE,CAAC,CAAC;QACpHQ,WAAW,CAACM,UAAU,GAAG,CAAClC,OAAO,CAACsB,SAAS,GAAGQ,eAAe,IAAIX,IAAI,CAACgB,QAAQ;QAE9E,OAAOP,WAAW;MACpB;MACA,OAAOT,IAAI;IACb,CAAC,CAAC;IAEFiB,gBAAgB,CAAC;MAAE,GAAG1D,KAAK;MAAEuC,KAAK,EAAED;IAAa,CAAC,CAAC;EACrD,CAAC;EAED,MAAMqB,wBAAwB,GAAGA,CAACvB,MAAc,EAAEjB,YAAoB,KAAK;IACzE,MAAMmB,YAAY,GAAGtC,KAAK,CAACuC,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;MAC3C,IAAIA,IAAI,CAACxB,EAAE,KAAKmB,MAAM,EAAE;QACtB,MAAMd,OAAO,GAAGT,UAAU,CAAC4B,IAAI,CAAC3B,SAAS,CAAC;QAC1C,IAAI,CAACQ,OAAO,EAAE,OAAOmB,IAAI;QAEzB,MAAMS,WAAW,GAAG;UAClB,GAAGT,IAAI;UACPU,kBAAkB,EAAEV,IAAI,CAACU,kBAAkB,CAAC3B,MAAM,CAAE+B,EAAO,IAAKA,EAAE,CAACpC,YAAY,KAAKA,YAAY;QAClG,CAAC;;QAED;QACA,MAAMiC,eAAe,GAAGF,WAAW,CAACC,kBAAkB,CAACE,MAAM,CAAC,CAACC,GAAW,EAAEC,EAAO,KAAKD,GAAG,GAAGC,EAAE,CAACb,eAAe,EAAE,CAAC,CAAC;QACpHQ,WAAW,CAACM,UAAU,GAAG,CAAClC,OAAO,CAACsB,SAAS,GAAGQ,eAAe,IAAIX,IAAI,CAACgB,QAAQ;QAE9E,OAAOP,WAAW;MACpB;MACA,OAAOT,IAAI;IACb,CAAC,CAAC;IAEFiB,gBAAgB,CAAC;MAAE,GAAG1D,KAAK;MAAEuC,KAAK,EAAED;IAAa,CAAC,CAAC;EACrD,CAAC;EAED,MAAMsB,cAAc,GAAGA,CAACxB,MAAc,EAAEyB,WAAmB,KAAK;IAC9D,MAAMvB,YAAY,GAAGtC,KAAK,CAACuC,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;MAC3C,IAAIA,IAAI,CAACxB,EAAE,KAAKmB,MAAM,EAAE;QACtB,MAAMd,OAAO,GAAGT,UAAU,CAAC4B,IAAI,CAAC3B,SAAS,CAAC;QAC1C,IAAI,CAACQ,OAAO,EAAE,OAAOmB,IAAI;QAEzB,MAAMS,WAAW,GAAG;UAAE,GAAGT,IAAI;UAAEgB,QAAQ,EAAEI;QAAY,CAAC;QACtD,MAAMT,eAAe,GAAGF,WAAW,CAACC,kBAAkB,CAACE,MAAM,CAAC,CAACC,GAAW,EAAEC,EAAO,KAAKD,GAAG,GAAGC,EAAE,CAACb,eAAe,EAAE,CAAC,CAAC;QACpHQ,WAAW,CAACM,UAAU,GAAG,CAAClC,OAAO,CAACsB,SAAS,GAAGQ,eAAe,IAAIS,WAAW;QAE5E,OAAOX,WAAW;MACpB;MACA,OAAOT,IAAI;IACb,CAAC,CAAC;IAEFiB,gBAAgB,CAAC;MAAE,GAAG1D,KAAK;MAAEuC,KAAK,EAAED;IAAa,CAAC,CAAC;EACrD,CAAC;EAED,MAAMwB,UAAU,GAAI1B,MAAc,IAAK;IACrC,MAAME,YAAY,GAAGtC,KAAK,CAACuC,KAAK,CAACf,MAAM,CAACiB,IAAI,IAAIA,IAAI,CAACxB,EAAE,KAAKmB,MAAM,CAAC;IACnEsB,gBAAgB,CAAC;MAAE,GAAG1D,KAAK;MAAEuC,KAAK,EAAED;IAAa,CAAC,CAAC;IACnD,IAAI3B,cAAc,KAAKyB,MAAM,EAAE;MAC7BxB,iBAAiB,CAAC,IAAI,CAAC;IACzB;EACF,CAAC;EAED,MAAM8C,gBAAgB,GAAIK,YAAmB,IAAK;IAChD,MAAMC,QAAQ,GAAGD,YAAY,CAACxB,KAAK,CAACc,MAAM,CAAC,CAACC,GAAG,EAAEb,IAAI,KAAKa,GAAG,GAAGb,IAAI,CAACe,UAAU,EAAE,CAAC,CAAC;IACnF,MAAMS,gBAAgB,GAAGD,QAAQ,IAAID,YAAY,CAACE,gBAAgB,GAAG,GAAG,CAAC;IACzE,MAAMC,aAAa,GAAGH,YAAY,CAACG,aAAa,IAAI,CAAC;IACrD,MAAMC,aAAa,GAAGF,gBAAgB,GAAGC,aAAa;IACtD,MAAME,UAAU,GAAGJ,QAAQ,GAAGG,aAAa;IAE3C,MAAME,UAAU,GAAG;MACjB,GAAGN,YAAY;MACfG,aAAa;MACbF,QAAQ;MACRG,aAAa;MACbC;IACF,CAAC;IAED9D,aAAa,CAAC+D,UAAU,CAAC;EAC3B,CAAC;EAED,MAAMC,YAAY,GAAG3D,cAAc,GAAGX,KAAK,CAACuC,KAAK,CAACxB,IAAI,CAAC0B,IAAI,IAAIA,IAAI,CAACxB,EAAE,KAAKN,cAAc,CAAC,GAAG,IAAI;EACjG,MAAM4D,eAAe,GAAGD,YAAY,GAAGzD,UAAU,CAACyD,YAAY,CAACxD,SAAS,CAAC,GAAG,IAAI;EAChF,MAAM0D,oBAAoB,GAAGF,YAAY,GAAGlD,uBAAuB,CAACkD,YAAY,CAACxD,SAAS,EAAEwD,YAAY,CAACnB,kBAAkB,CAACX,GAAG,CAAEe,EAAO,IAAKA,EAAE,CAACpC,YAAY,CAAC,CAAC,GAAG,EAAE;;EAEnK;EACA,MAAMsD,WAAW,GAAGzE,KAAK,CAACuC,KAAK,CAACc,MAAM,CAAC,CAACqB,GAAG,EAAEjC,IAAI,KAAK;IACpD,MAAMkC,MAAM,GAAGlC,IAAI,CAACkC,MAAM,IAAI,YAAY;IAC1C,IAAI,CAACD,GAAG,CAACC,MAAM,CAAC,EAAE;MAChBD,GAAG,CAACC,MAAM,CAAC,GAAG,EAAE;IAClB;IACAD,GAAG,CAACC,MAAM,CAAC,CAACC,IAAI,CAACnC,IAAI,CAAC;IACtB,OAAOiC,GAAG;EACZ,CAAC,EAAE,CAAC,CAAuC,CAAC;EAE5C,oBACE5E,OAAA;IAAK+E,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAE7BhF,OAAA;MAAK+E,SAAS,EAAC,QAAQ;MAAAC,QAAA,EACpB9E,KAAK,CAACuC,KAAK,CAACwC,MAAM,KAAK,CAAC,gBACvBjF,OAAA;QAAK+E,SAAS,EAAC,iCAAiC;QAAAC,QAAA,eAC9ChF,OAAA;UAAAgF,QAAA,EAAG;QAA0D;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,gBAENrF,OAAA;QAAK+E,SAAS,EAAC,WAAW;QAAAC,QAAA,EACvBM,MAAM,CAACC,OAAO,CAACZ,WAAW,CAAC,CAACjC,GAAG,CAAC,CAAC,CAACmC,MAAM,EAAEW,SAAS,CAAC,KAAK;UACxD,MAAMC,IAAI,GAAGtF,KAAK,CAACc,IAAI,CAACyE,CAAC,IAAIA,CAAC,CAACvE,EAAE,KAAK0D,MAAM,CAAC;UAC7C,MAAMc,SAAS,GAAGH,SAAS,CAACjC,MAAM,CAAC,CAACC,GAAG,EAAEb,IAAI,KAAKa,GAAG,GAAIb,IAAI,CAACe,UAAU,GAAGf,IAAI,CAACgB,QAAS,EAAE,CAAC,CAAC;UAE7F,oBACE3D,OAAA;YAAkB+E,SAAS,EAAC,sDAAsD;YAAAC,QAAA,gBAEhFhF,OAAA;cAAK+E,SAAS,EAAC,8EAA8E;cAAAC,QAAA,eAC3FhF,OAAA;gBAAK+E,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAChDhF,OAAA;kBAAAgF,QAAA,gBACEhF,OAAA;oBAAI+E,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,EAClC,CAAAS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,IAAI,KAAI;kBAAiB;oBAAAV,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9B,CAAC,eACLrF,OAAA;oBAAG+E,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,GACjCQ,SAAS,CAACP,MAAM,EAAC,UAAQ,EAACO,SAAS,CAACP,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAC,kBAAW,EAACU,SAAS,CAACE,OAAO,CAAC,CAAC,CAAC;kBAAA;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5F,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC,eACNrF,OAAA;kBAAK+E,SAAS,EAAC,YAAY;kBAAAC,QAAA,eACzBhF,OAAA;oBAAK+E,SAAS,EAAC,oCAAoC;oBAAAC,QAAA,eACjDhF,OAAA;sBAAM+E,SAAS,EAAC,qBAAqB;sBAAAC,QAAA,EAAEQ,SAAS,CAACP;oBAAM;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5D;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNrF,OAAA;cAAK+E,SAAS,EAAC,iBAAiB;cAAAC,QAAA,eAC9BhF,OAAA;gBAAO+E,SAAS,EAAC,qCAAqC;gBAAAC,QAAA,gBACpDhF,OAAA;kBAAO+E,SAAS,EAAC,YAAY;kBAAAC,QAAA,eAC3BhF,OAAA;oBAAAgF,QAAA,gBACEhF,OAAA;sBAAI+E,SAAS,EAAC,gFAAgF;sBAAAC,QAAA,EAAC;oBAAO;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC3GrF,OAAA;sBAAI+E,SAAS,EAAC,gFAAgF;sBAAAC,QAAA,EAAC;oBAAG;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACvGrF,OAAA;sBAAI+E,SAAS,EAAC,gFAAgF;sBAAAC,QAAA,EAAC;oBAAW;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC/GrF,OAAA;sBAAI+E,SAAS,EAAC,gFAAgF;sBAAAC,QAAA,EAAC;oBAAK;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACzGrF,OAAA;sBAAI+E,SAAS,EAAC,gFAAgF;sBAAAC,QAAA,EAAC;oBAAO;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzG;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,eACRrF,OAAA;kBAAO+E,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,EACjDQ,SAAS,CAAC9C,GAAG,CAAEC,IAAI,IAAK;oBACjC,MAAMnB,OAAO,GAAGT,UAAU,CAAC4B,IAAI,CAAC3B,SAAS,CAAC;oBAC1C,MAAM8E,UAAU,GAAGjF,cAAc,KAAK8B,IAAI,CAACxB,EAAE;oBAE7C,oBACEnB,OAAA;sBAEE+E,SAAS,EAAE,mCAAmCe,UAAU,GAAG,uCAAuC,GAAG,EAAE,EAAG;sBAC1GC,OAAO,EAAEA,CAAA,KAAMjF,iBAAiB,CAAC6B,IAAI,CAACxB,EAAE,CAAE;sBAAA6D,QAAA,gBAE1ChF,OAAA;wBAAI+E,SAAS,EAAC,6BAA6B;wBAAAC,QAAA,eACzChF,OAAA;0BAAAgF,QAAA,gBACEhF,OAAA;4BAAK+E,SAAS,EAAC,mCAAmC;4BAAAC,QAAA,EAAExD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEoE;0BAAI;4BAAAV,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAM,CAAC,eACxErF,OAAA;4BAAK+E,SAAS,EAAC,uBAAuB;4BAAAC,QAAA,EAAExD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEwE;0BAAW;4BAAAd,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAM,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAChE;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACJ,CAAC,eACLrF,OAAA;wBAAI+E,SAAS,EAAC,6BAA6B;wBAAAC,QAAA,eACzChF,OAAA;0BACEiC,IAAI,EAAC,QAAQ;0BACbgE,GAAG,EAAC,GAAG;0BACPC,KAAK,EAAEvD,IAAI,CAACgB,QAAS;0BACrBwC,QAAQ,EAAGC,CAAC,IAAKtC,cAAc,CAACnB,IAAI,CAACxB,EAAE,EAAEkF,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,IAAI,CAAC,CAAE;0BACxEnB,SAAS,EAAC,2DAA2D;0BACrEgB,OAAO,EAAGK,CAAC,IAAKA,CAAC,CAACG,eAAe,CAAC;wBAAE;0BAAArB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACrC;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACA,CAAC,eACLrF,OAAA;wBAAI+E,SAAS,EAAC,WAAW;wBAAAC,QAAA,eACvBhF,OAAA;0BAAK+E,SAAS,EAAC,sBAAsB;0BAAAC,QAAA,GAClCrC,IAAI,CAACU,kBAAkB,CAACX,GAAG,CAAEe,EAAO,IAAK;4BACxC,MAAMlB,UAAU,GAAGnB,aAAa,CAACqC,EAAE,CAACpC,YAAY,CAAC;4BACjD,oBACErB,OAAA;8BAA4B+E,SAAS,EAAC,+FAA+F;8BAAAC,QAAA,GAClIzC,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEqD,IAAI,eACjB5F,OAAA;gCACE+F,OAAO,EAAGK,CAAC,IAAK;kCACdA,CAAC,CAACG,eAAe,CAAC,CAAC;kCACnB1C,wBAAwB,CAAClB,IAAI,CAACxB,EAAE,EAAEsC,EAAE,CAACpC,YAAY,CAAC;gCACpD,CAAE;gCACF0D,SAAS,EAAC,wCAAwC;gCAAAC,QAAA,EACnD;8BAED;gCAAAE,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAAQ,CAAC;4BAAA,GAVA5B,EAAE,CAACpC,YAAY;8BAAA6D,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAWpB,CAAC;0BAEX,CAAC,CAAC,EACD1C,IAAI,CAACU,kBAAkB,CAAC4B,MAAM,KAAK,CAAC,iBACnCjF,OAAA;4BAAM+E,SAAS,EAAC,uBAAuB;4BAAAC,QAAA,EAAC;0BAAc;4BAAAE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAM,CAC7D;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACE;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACJ,CAAC,eACLrF,OAAA;wBAAI+E,SAAS,EAAC,+DAA+D;wBAAAC,QAAA,GAAC,GAC3E,EAACrC,IAAI,CAACe,UAAU,CAACmC,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC1B,CAAC,eACLrF,OAAA;wBAAI+E,SAAS,EAAC,6BAA6B;wBAAAC,QAAA,eACzChF,OAAA;0BACE+F,OAAO,EAAGK,CAAC,IAAK;4BACdA,CAAC,CAACG,eAAe,CAAC,CAAC;4BACnBvC,UAAU,CAACrB,IAAI,CAACxB,EAAE,CAAC;0BACrB,CAAE;0BACF4D,SAAS,EAAC,iCAAiC;0BAAAC,QAAA,EAC5C;wBAED;0BAAAE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACP,CAAC;oBAAA,GAzDA1C,IAAI,CAACxB,EAAE;sBAAA+D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OA0DV,CAAC;kBAET,CAAC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA,GAtGYR,MAAM;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAuGrB,CAAC;QAEF,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNrF,OAAA;MAAK+E,SAAS,EAAC,iDAAiD;MAAAC,QAAA,gBAC9DhF,OAAA;QAAK+E,SAAS,EAAC,8BAA8B;QAAAC,QAAA,gBAC3ChF,OAAA;UAAI+E,SAAS,EAAC,6BAA6B;UAAAC,QAAA,EAAC;QAAkB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAClEb,YAAY,gBACXxE,OAAA;UAAG+E,SAAS,EAAC,4BAA4B;UAAAC,QAAA,GAAC,YAC9B,GAAAtE,WAAA,GAACK,UAAU,CAACyD,YAAY,CAACxD,SAAS,CAAC,cAAAN,WAAA,uBAAlCA,WAAA,CAAoCkF,IAAI;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,gBAEJrF,OAAA;UAAG+E,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAE1C;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENrF,OAAA;QAAK+E,SAAS,EAAC,8BAA8B;QAAAC,QAAA,EAC1C,CAACR,YAAY,gBACZxE,OAAA;UAAK+E,SAAS,EAAC,gCAAgC;UAAAC,QAAA,eAC7ChF,OAAA;YAAAgF,QAAA,EAAG;UAA6C;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,gBAENrF,OAAA;UAAK+E,SAAS,EAAC,WAAW;UAAAC,QAAA,GAEvBR,YAAY,CAACnB,kBAAkB,CAAC4B,MAAM,GAAG,CAAC,iBACzCjF,OAAA;YAAAgF,QAAA,gBACEhF,OAAA;cAAI+E,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAAmB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvErF,OAAA;cAAK+E,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvBR,YAAY,CAACnB,kBAAkB,CAACX,GAAG,CAAEf,IAAS,IAAK;gBAClD,MAAMY,UAAU,GAAGnB,aAAa,CAACO,IAAI,CAACN,YAAY,CAAC;gBACnD,MAAMmF,WAAW,GAAG7E,IAAI,CAAC6E,WAAW;gBACpC,oBACExG,OAAA;kBAA6B+E,SAAS,EAAE,oDACtCyB,WAAW,GAAG,qCAAqC,GAAG,YAAY,EACjE;kBAAAxB,QAAA,gBACDhF,OAAA;oBAAAgF,QAAA,gBACEhF,OAAA;sBAAK+E,SAAS,EAAC,6BAA6B;sBAAAC,QAAA,gBAC1ChF,OAAA;wBAAG+E,SAAS,EAAE,eAAeyB,WAAW,GAAG,gBAAgB,GAAG,eAAe,EAAG;wBAAAxB,QAAA,EAC7EzC,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEqD;sBAAI;wBAAAV,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAChB,CAAC,EACHmB,WAAW,iBACVxG,OAAA;wBAAM+E,SAAS,EAAC,mDAAmD;wBAAAC,QAAA,EAAC;sBAEpE;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CACP;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC,eACNrF,OAAA;sBAAG+E,SAAS,EAAE,WAAWyB,WAAW,GAAG,gBAAgB,GAAG,eAAe,EAAG;sBAAAxB,QAAA,EACzEzC,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEyD;oBAAW;sBAAAd,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACvB,CAAC,eACJrF,OAAA;sBAAG+E,SAAS,EAAC,wBAAwB;sBAAAC,QAAA,GAAC,IAClC,EAACrD,IAAI,CAACiB,eAAe,CAACiD,OAAO,CAAC,CAAC,CAAC;oBAAA;sBAAAX,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACjC,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CAAC,eACNrF,OAAA;oBACE+F,OAAO,EAAEA,CAAA,KAAMlC,wBAAwB,CAACW,YAAY,CAACrD,EAAE,EAAEQ,IAAI,CAACN,YAAY,CAAE;oBAC5EoF,QAAQ,EAAED,WAAY;oBACtBzB,SAAS,EAAE,6BACTyB,WAAW,GACP,8CAA8C,GAC9C,wCAAwC,EAC3C;oBACHE,KAAK,EAAEF,WAAW,GAAG,yCAAyC,GAAG,mBAAoB;oBAAAxB,QAAA,EAEpFwB,WAAW,GAAG,QAAQ,GAAG;kBAAQ;oBAAAtB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5B,CAAC;gBAAA,GAhCD1D,IAAI,CAACN,YAAY;kBAAA6D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAiCtB,CAAC;cAEV,CAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAGDrF,OAAA;YAAAgF,QAAA,gBACEhF,OAAA;cAAI+E,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7DrF,OAAA;cAAK+E,SAAS,EAAC,WAAW;cAAAC,QAAA,GACvB1D,uBAAuB,CAACkD,YAAY,CAACxD,SAAS,EAAEwD,YAAY,CAACnB,kBAAkB,CAACX,GAAG,CAAExB,CAAM,IAAKA,CAAC,CAACG,YAAY,CAAC,CAAC,CAC9GqB,GAAG,CAAEH,UAAU,iBACdvC,OAAA;gBAAyB+E,SAAS,EAAC,6DAA6D;gBAAAC,QAAA,gBAC9FhF,OAAA;kBAAAgF,QAAA,gBACEhF,OAAA;oBAAG+E,SAAS,EAAC,2BAA2B;oBAAAC,QAAA,EAAEzC,UAAU,CAACqD;kBAAI;oBAAAV,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC9DrF,OAAA;oBAAG+E,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,EAAEzC,UAAU,CAACyD;kBAAW;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACjErF,OAAA;oBAAG+E,SAAS,EAAC,wBAAwB;oBAAAC,QAAA,GAAC,IAClC,EAACzC,UAAU,CAACQ,KAAK,CAAC8C,OAAO,CAAC,CAAC,CAAC;kBAAA;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7B,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC,eACNrF,OAAA;kBACE+F,OAAO,EAAEA,CAAA,KAAM1D,mBAAmB,CAACmC,YAAY,CAACrD,EAAE,EAAEoB,UAAU,CAACpB,EAAE,CAAE;kBACnE4D,SAAS,EAAC,oEAAoE;kBAAAC,QAAA,EAC/E;gBAED;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA,GAbD9C,UAAU,CAACpB,EAAE;gBAAA+D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAclB,CACN,CAAC,EAEH/D,uBAAuB,CAACkD,YAAY,CAACxD,SAAS,EAAEwD,YAAY,CAACnB,kBAAkB,CAACX,GAAG,CAAExB,CAAM,IAAKA,CAAC,CAACG,YAAY,CAAC,CAAC,CAAC4D,MAAM,KAAK,CAAC,iBAC5HjF,OAAA;gBAAG+E,SAAS,EAAC,8BAA8B;gBAAAC,QAAA,EAAC;cAAmC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CACnF;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNrF,OAAA;MAAK+E,SAAS,EAAC,2DAA2D;MAAAC,QAAA,gBACxEhF,OAAA;QAAI+E,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE3ErF,OAAA;QAAK+E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxBhF,OAAA;UAAK+E,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnChF,OAAA;YAAAgF,QAAA,EAAM;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtBrF,OAAA;YAAAgF,QAAA,GAAM,GAAC,EAAC,EAAArE,eAAA,GAAAT,KAAK,CAACgE,QAAQ,cAAAvD,eAAA,uBAAdA,eAAA,CAAgBkF,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,EAELnF,KAAK,CAACiE,gBAAgB,IAAIjE,KAAK,CAACiE,gBAAgB,GAAG,CAAC,iBACnDnE,OAAA;UAAK+E,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAChDhF,OAAA;YAAAgF,QAAA,GAAM,qBAAmB,EAAC9E,KAAK,CAACiE,gBAAgB,EAAC,KAAG;UAAA;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3DrF,OAAA;YAAAgF,QAAA,GAAM,IAAE,EAAC,CAAC,CAAC9E,KAAK,CAACgE,QAAQ,IAAI,CAAC,IAAIhE,KAAK,CAACiE,gBAAgB,GAAG,GAAG,EAAE0B,OAAO,CAAC,CAAC,CAAC;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CACN,EAEAnF,KAAK,CAACkE,aAAa,IAAIlE,KAAK,CAACkE,aAAa,GAAG,CAAC,iBAC7CpE,OAAA;UAAK+E,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAChDhF,OAAA;YAAAgF,QAAA,EAAM;UAAe;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5BrF,OAAA;YAAAgF,QAAA,GAAM,IAAE,EAAC9E,KAAK,CAACkE,aAAa,CAACyB,OAAO,CAAC,CAAC,CAAC;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CACN,eAEDrF,OAAA;UAAI+E,SAAS,EAAC;QAAM;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAEvBrF,OAAA;UAAK+E,SAAS,EAAC,4CAA4C;UAAAC,QAAA,gBACzDhF,OAAA;YAAAgF,QAAA,EAAM;UAAY;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACzBrF,OAAA;YAAM+E,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAAC,GAAC,EAAC,EAAApE,iBAAA,GAAAV,KAAK,CAACoE,UAAU,cAAA1D,iBAAA,uBAAhBA,iBAAA,CAAkBiF,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9E,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAER,CAAC;AAAC5E,EAAA,CAnaIR,4BAAyE;AAAA0G,EAAA,GAAzE1G,4BAAyE;AAqa/E,eAAeA,4BAA4B;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}