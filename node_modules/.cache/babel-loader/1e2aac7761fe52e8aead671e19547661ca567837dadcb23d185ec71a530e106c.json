{"ast":null,"code":"import _objectSpread from\"/Users/dkjesuschua/Documents/demo_cpq/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EnterpriseQuoteBuilder=_ref=>{let{quote,products,processings,processingRules,productDependencies,onQuoteUpdate}=_ref;// const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\nconst[orderDiscount,setOrderDiscount]=useState(quote.orderDiscount);const getProduct=productId=>products.find(p=>p.id===productId);const getProcessing=processingId=>processings.find(p=>p.id===processingId);const updateQuantity=(itemId,newQuantity)=>{const updatedItems=quote.items.map(item=>{if(item.id===itemId){const updatedItem=_objectSpread(_objectSpread({},item),{},{quantity:newQuantity});updatedItem.totalPrice=updatedItem.basePrice*newQuantity+updatedItem.appliedProcessings.reduce((sum,ap)=>sum+ap.calculatedPrice,0);return updatedItem;}return item;});recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const removeItem=itemId=>{const updatedItems=quote.items.filter(item=>item.id!==itemId);recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const getAvailableProcessings=(productId,currentProcessings)=>{const product=getProduct(productId);if(!product)return[];// Get processings applicable to this product category\nlet available=processings.filter(proc=>proc.applicableProductCategories.includes(product.category));// Apply mutual exclusion rules\nconst mutualExclusionRules=processingRules.filter(rule=>rule.type==='mutual_exclusion');mutualExclusionRules.forEach(rule=>{const hasConflicting=currentProcessings.some(procId=>{var _rule$conditions$proc;return(_rule$conditions$proc=rule.conditions.processingIds)===null||_rule$conditions$proc===void 0?void 0:_rule$conditions$proc.includes(procId);});if(hasConflicting&&rule.actions.excludeProcessings){available=available.filter(proc=>{var _rule$actions$exclude;return!((_rule$actions$exclude=rule.actions.excludeProcessings)!==null&&_rule$actions$exclude!==void 0&&_rule$actions$exclude.includes(proc.id));});}});// Remove already applied processings\navailable=available.filter(proc=>!currentProcessings.includes(proc.id));return available;};const addProcessingToItem=(itemId,processingId)=>{const item=quote.items.find(i=>i.id===itemId);const processing=getProcessing(processingId);const product=item?getProduct(item.productId):null;if(!item||!processing||!product)return;// Calculate processing price\nlet calculatedPrice=0;if(processing.pricingType==='per_unit'){calculatedPrice=processing.price*item.quantity;}else if(processing.pricingType==='percentage'){calculatedPrice=item.basePrice*item.quantity*processing.price;}else if(processing.pricingType==='per_dimension'&&product.dimensions){// Simplified calculation - in real system this would be more complex\ncalculatedPrice=(product.dimensions.width||0)*processing.price;}const updatedItems=quote.items.map(i=>{if(i.id===itemId){const updatedItem=_objectSpread(_objectSpread({},i),{},{appliedProcessings:[...i.appliedProcessings,{processingId,calculatedPrice}]});updatedItem.totalPrice=updatedItem.basePrice*updatedItem.quantity+updatedItem.appliedProcessings.reduce((sum,ap)=>sum+ap.calculatedPrice,0);return updatedItem;}return i;});recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const removeProcessingFromItem=(itemId,processingId)=>{const updatedItems=quote.items.map(item=>{if(item.id===itemId){const updatedItem=_objectSpread(_objectSpread({},item),{},{appliedProcessings:item.appliedProcessings.filter(ap=>ap.processingId!==processingId)});updatedItem.totalPrice=updatedItem.basePrice*updatedItem.quantity+updatedItem.appliedProcessings.reduce((sum,ap)=>sum+ap.calculatedPrice,0);return updatedItem;}return item;});recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const applyOrderDiscount=()=>{const updatedQuote=_objectSpread(_objectSpread({},quote),{},{orderDiscount});recalculateQuote(updatedQuote);};const recalculateQuote=updatedQuote=>{const subtotal=updatedQuote.items.reduce((sum,item)=>sum+item.totalPrice,0);const contractDiscount=subtotal*(updatedQuote.contractDiscount/100);const customerDiscount=(subtotal-contractDiscount)*(updatedQuote.customerDiscount/100);const totalDiscount=contractDiscount+customerDiscount+updatedQuote.orderDiscount;const finalTotal=subtotal-totalDiscount;const finalQuote=_objectSpread(_objectSpread({},updatedQuote),{},{subtotal,totalDiscount,finalTotal,requiresApproval:finalTotal>updatedQuote.approvalThreshold});onQuoteUpdate(finalQuote);};const checkDependencies=productId=>{const deps=productDependencies.filter(dep=>dep.productId===productId);if(deps.length===0)return[];return deps.map(dep=>{const requiredProduct=getProduct(dep.requiredProductId);return _objectSpread(_objectSpread({},dep),{},{requiredProductName:(requiredProduct===null||requiredProduct===void 0?void 0:requiredProduct.name)||'Unknown Product'});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Quote Configuration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Configure products and apply processings\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:quote.items.map(item=>{const product=getProduct(item.productId);const dependencies=checkDependencies(item.productId);const currentProcessingIds=item.appliedProcessings.map(ap=>ap.processingId);const availableProcessings=getAvailableProcessings(item.productId,currentProcessingIds);if(!product)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:product.description}),product.dimensions&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[product.dimensions.width,\"\\\"W \\xD7 \",product.dimensions.height,\"\\\"H \\xD7 \",product.dimensions.depth,\"\\\"D\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"Qty:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:item.quantity,onChange:e=>updateQuantity(item.id,parseInt(e.target.value)||1),className:\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:[\"$\",item.totalPrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Base: $\",(item.basePrice*item.quantity).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(item.id),className:\"text-red-600 hover:text-red-800 p-1\",title:\"Remove item\",children:\"\\u2715\"})]})]}),dependencies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-yellow-800 mb-2\",children:\"Product Dependencies:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-yellow-700 space-y-1\",children:dependencies.map(dep=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",dep.isAutomatic?'Auto-adds':'Consider adding',\": \",dep.requiredProductName,dep.quantityFormula!=='1'&&\" (\".concat(dep.quantityFormula,\")\"),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs ml-2\",children:[\"- \",dep.description]})]},dep.id))})]}),item.appliedProcessings.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Applied Processings:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:item.appliedProcessings.map(ap=>{const processing=getProcessing(ap.processingId);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-900\",children:processing===null||processing===void 0?void 0:processing.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-700 ml-2\",children:processing===null||processing===void 0?void 0:processing.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-blue-900\",children:[\"+$\",ap.calculatedPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeProcessingFromItem(item.id,ap.processingId),className:\"text-red-600 hover:text-red-800 text-xs\",children:\"Remove\"})]})]},ap.processingId);})})]}),availableProcessings.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Available Processings:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",children:availableProcessings.map(processing=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addProcessingToItem(item.id,processing.id),className:\"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-900\",children:processing.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:processing.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-600\",children:processing.pricingType==='percentage'?\"\".concat((processing.price*100).toFixed(0),\"%\"):\"$\".concat(processing.price.toFixed(2))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:processing.pricingType.replace('_',' ')})]})]})},processing.id))})]})]},item.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Enterprise Quote Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",quote.subtotal.toFixed(2)]})]}),quote.contractDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Contract Discount (\",quote.contractDiscount,\"%):\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-600\",children:[\"-$\",(quote.subtotal*quote.contractDiscount/100).toFixed(2)]})]}),quote.customerDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Customer Discount (\",quote.customerDiscount,\"%):\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-600\",children:[\"-$\",((quote.subtotal-quote.subtotal*quote.contractDiscount/100)*quote.customerDiscount/100).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Order Discount:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",value:orderDiscount,onChange:e=>setOrderDiscount(parseFloat(e.target.value)||0),className:\"w-24 px-2 py-1 border border-gray-300 rounded text-right\",placeholder:\"0.00\"}),/*#__PURE__*/_jsx(\"button\",{onClick:applyOrderDiscount,className:\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\",children:\"Apply\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold text-gray-900\",children:\"Final Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-green-600\",children:[\"$\",quote.finalTotal.toFixed(2)]})]})}),quote.requiresApproval&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[\"\\u26A0\\uFE0F This quote requires approval as it exceeds $>\",quote.approvalThreshold.toLocaleString()]})})]})]})]});};export default EnterpriseQuoteBuilder;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","EnterpriseQuoteBuilder","_ref","quote","products","processings","processingRules","productDependencies","onQuoteUpdate","orderDiscount","setOrderDiscount","getProduct","productId","find","p","id","getProcessing","processingId","updateQuantity","itemId","newQuantity","updatedItems","items","map","item","updatedItem","_objectSpread","quantity","totalPrice","basePrice","appliedProcessings","reduce","sum","ap","calculatedPrice","recalculateQuote","removeItem","filter","getAvailableProcessings","currentProcessings","product","available","proc","applicableProductCategories","includes","category","mutualExclusionRules","rule","type","forEach","hasConflicting","some","procId","_rule$conditions$proc","conditions","processingIds","actions","excludeProcessings","_rule$actions$exclude","addProcessingToItem","i","processing","pricingType","price","dimensions","width","removeProcessingFromItem","applyOrderDiscount","updatedQuote","subtotal","contractDiscount","customerDiscount","totalDiscount","finalTotal","finalQuote","requiresApproval","approvalThreshold","checkDependencies","deps","dep","length","requiredProduct","requiredProductId","requiredProductName","name","className","children","dependencies","currentProcessingIds","availableProcessings","description","height","depth","min","value","onChange","e","parseInt","target","toFixed","onClick","title","isAutomatic","quantityFormula","concat","replace","step","parseFloat","placeholder","toLocaleString"],"sources":["/Users/dkjesuschua/Documents/demo_cpq/src/components/enterprise/EnterpriseQuoteBuilder.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Quote, Product, Processing, ProcessingRule, ProductDependency } from '../../types';\n\ninterface EnterpriseQuoteBuilderProps {\n  quote: Quote;\n  products: Product[];\n  processings: Processing[];\n  processingRules: ProcessingRule[];\n  productDependencies: ProductDependency[];\n  onQuoteUpdate: (quote: Quote) => void;\n}\n\nconst EnterpriseQuoteBuilder: React.FC<EnterpriseQuoteBuilderProps> = ({\n  quote,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  // const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n  const [orderDiscount, setOrderDiscount] = useState(quote.orderDiscount);\n\n  const getProduct = (productId: string) => products.find(p => p.id === productId);\n  const getProcessing = (processingId: string) => processings.find(p => p.id === processingId);\n\n  const updateQuantity = (itemId: string, newQuantity: number) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = { ...item, quantity: newQuantity };\n        updatedItem.totalPrice = (updatedItem.basePrice * newQuantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeItem = (itemId: string) => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const getAvailableProcessings = (productId: string, currentProcessings: string[]) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    // Get processings applicable to this product category\n    let available = processings.filter(proc => \n      proc.applicableProductCategories.includes(product.category)\n    );\n\n    // Apply mutual exclusion rules\n    const mutualExclusionRules = processingRules.filter(rule => \n      rule.type === 'mutual_exclusion'\n    );\n\n    mutualExclusionRules.forEach(rule => {\n      const hasConflicting = currentProcessings.some(procId => \n        rule.conditions.processingIds?.includes(procId)\n      );\n      \n      if (hasConflicting && rule.actions.excludeProcessings) {\n        available = available.filter(proc => \n          !rule.actions.excludeProcessings?.includes(proc.id)\n        );\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n\n    return available;\n  };\n\n  const addProcessingToItem = (itemId: string, processingId: string) => {\n    const item = quote.items.find(i => i.id === itemId);\n    const processing = getProcessing(processingId);\n    const product = item ? getProduct(item.productId) : null;\n    \n    if (!item || !processing || !product) return;\n\n    // Calculate processing price\n    let calculatedPrice = 0;\n    if (processing.pricingType === 'per_unit') {\n      calculatedPrice = processing.price * item.quantity;\n    } else if (processing.pricingType === 'percentage') {\n      calculatedPrice = item.basePrice * item.quantity * processing.price;\n    } else if (processing.pricingType === 'per_dimension' && product.dimensions) {\n      // Simplified calculation - in real system this would be more complex\n      calculatedPrice = (product.dimensions.width || 0) * processing.price;\n    }\n\n    const updatedItems = quote.items.map(i => {\n      if (i.id === itemId) {\n        const updatedItem = {\n          ...i,\n          appliedProcessings: [\n            ...i.appliedProcessings,\n            { processingId, calculatedPrice }\n          ]\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return i;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeProcessingFromItem = (itemId: string, processingId: string) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const applyOrderDiscount = () => {\n    const updatedQuote = { ...quote, orderDiscount };\n    recalculateQuote(updatedQuote);\n  };\n\n  const recalculateQuote = (updatedQuote: Quote) => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const contractDiscount = subtotal * (updatedQuote.contractDiscount / 100);\n    const customerDiscount = (subtotal - contractDiscount) * (updatedQuote.customerDiscount / 100);\n    const totalDiscount = contractDiscount + customerDiscount + updatedQuote.orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n\n    const finalQuote = {\n      ...updatedQuote,\n      subtotal,\n      totalDiscount,\n      finalTotal,\n      requiresApproval: finalTotal > updatedQuote.approvalThreshold\n    };\n\n    onQuoteUpdate(finalQuote);\n  };\n\n  const checkDependencies = (productId: string) => {\n    const deps = productDependencies.filter(dep => dep.productId === productId);\n    if (deps.length === 0) return [];\n\n    return deps.map(dep => {\n      const requiredProduct = getProduct(dep.requiredProductId);\n      return {\n        ...dep,\n        requiredProductName: requiredProduct?.name || 'Unknown Product'\n      };\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Quote Items */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Quote Configuration</h3>\n          <p className=\"text-sm text-gray-600\">Configure products and apply processings</p>\n        </div>\n        \n        <div className=\"divide-y divide-gray-200\">\n          {quote.items.map((item) => {\n            const product = getProduct(item.productId);\n            const dependencies = checkDependencies(item.productId);\n            const currentProcessingIds = item.appliedProcessings.map(ap => ap.processingId);\n            const availableProcessings = getAvailableProcessings(item.productId, currentProcessingIds);\n            \n            if (!product) return null;\n\n            return (\n              <div key={item.id} className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">{product.name}</h4>\n                    <p className=\"text-sm text-gray-600\">{product.description}</p>\n                    {product.dimensions && (\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {product.dimensions.width}\"W × {product.dimensions.height}\"H × {product.dimensions.depth}\"D\n                      </p>\n                    )}\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <label className=\"text-sm text-gray-600\">Qty:</label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={item.quantity}\n                        onChange={(e) => updateQuantity(item.id, parseInt(e.target.value) || 1)}\n                        className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n                      />\n                    </div>\n                    \n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-semibold text-gray-900\">\n                        ${item.totalPrice.toFixed(2)}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">\n                        Base: ${(item.basePrice * item.quantity).toFixed(2)}\n                      </p>\n                    </div>\n                    \n                    <button\n                      onClick={() => removeItem(item.id)}\n                      className=\"text-red-600 hover:text-red-800 p-1\"\n                      title=\"Remove item\"\n                    >\n                      ✕\n                    </button>\n                  </div>\n                </div>\n\n                {/* Dependencies Warning */}\n                {dependencies.length > 0 && (\n                  <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\n                    <h5 className=\"text-sm font-medium text-yellow-800 mb-2\">Product Dependencies:</h5>\n                    <ul className=\"text-sm text-yellow-700 space-y-1\">\n                      {dependencies.map((dep) => (\n                        <li key={dep.id}>\n                          • {dep.isAutomatic ? 'Auto-adds' : 'Consider adding'}: {dep.requiredProductName} \n                          {dep.quantityFormula !== '1' && ` (${dep.quantityFormula})`}\n                          <span className=\"text-xs ml-2\">- {dep.description}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                {/* Applied Processings */}\n                {item.appliedProcessings.length > 0 && (\n                  <div className=\"mb-4\">\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Applied Processings:</h5>\n                    <div className=\"space-y-2\">\n                      {item.appliedProcessings.map((ap) => {\n                        const processing = getProcessing(ap.processingId);\n                        return (\n                          <div key={ap.processingId} className=\"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\">\n                            <div>\n                              <span className=\"text-sm font-medium text-blue-900\">{processing?.name}</span>\n                              <span className=\"text-xs text-blue-700 ml-2\">{processing?.description}</span>\n                            </div>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-sm font-medium text-blue-900\">\n                                +${ap.calculatedPrice.toFixed(2)}\n                              </span>\n                              <button\n                                onClick={() => removeProcessingFromItem(item.id, ap.processingId)}\n                                className=\"text-red-600 hover:text-red-800 text-xs\"\n                              >\n                                Remove\n                              </button>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n\n                {/* Available Processings */}\n                {availableProcessings.length > 0 && (\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Available Processings:</h5>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                      {availableProcessings.map((processing) => (\n                        <button\n                          key={processing.id}\n                          onClick={() => addProcessingToItem(item.id, processing.id)}\n                          className=\"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\"\n                        >\n                          <div className=\"flex justify-between items-start\">\n                            <div>\n                              <h6 className=\"text-sm font-medium text-gray-900\">{processing.name}</h6>\n                              <p className=\"text-xs text-gray-600\">{processing.description}</p>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-sm font-medium text-green-600\">\n                                {processing.pricingType === 'percentage' \n                                  ? `${(processing.price * 100).toFixed(0)}%`\n                                  : `$${processing.price.toFixed(2)}`\n                                }\n                              </p>\n                              <p className=\"text-xs text-gray-500\">{processing.pricingType.replace('_', ' ')}</p>\n                            </div>\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Quote Totals & Discounts */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Enterprise Quote Summary</h3>\n        \n        <div className=\"space-y-3\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Subtotal:</span>\n            <span className=\"font-medium\">${quote.subtotal.toFixed(2)}</span>\n          </div>\n          \n          {quote.contractDiscount > 0 && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Contract Discount ({quote.contractDiscount}%):</span>\n              <span className=\"text-red-600\">-${(quote.subtotal * quote.contractDiscount / 100).toFixed(2)}</span>\n            </div>\n          )}\n          \n          {quote.customerDiscount > 0 && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Customer Discount ({quote.customerDiscount}%):</span>\n              <span className=\"text-red-600\">-${((quote.subtotal - quote.subtotal * quote.contractDiscount / 100) * quote.customerDiscount / 100).toFixed(2)}</span>\n            </div>\n          )}\n          \n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Order Discount:</span>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={orderDiscount}\n                onChange={(e) => setOrderDiscount(parseFloat(e.target.value) || 0)}\n                className=\"w-24 px-2 py-1 border border-gray-300 rounded text-right\"\n                placeholder=\"0.00\"\n              />\n              <button\n                onClick={applyOrderDiscount}\n                className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n              >\n                Apply\n              </button>\n            </div>\n          </div>\n\n          <div className=\"pt-3 border-t border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-lg font-semibold text-gray-900\">Final Total:</span>\n              <span className=\"text-xl font-bold text-green-600\">${quote.finalTotal.toFixed(2)}</span>\n            </div>\n          </div>\n\n          {quote.requiresApproval && (\n            <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\n              <p className=\"text-sm text-yellow-800\">\n                ⚠️ This quote requires approval as it exceeds $&gt;{quote.approvalThreshold.toLocaleString()}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EnterpriseQuoteBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}