{"ast":null,"code":"import _objectSpread from\"/Users/dkjesuschua/Documents/demo_cpq/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OpportunityManager=_ref=>{let{opportunity,account,contacts,activities,recommendations,playbooks,onUpdateOpportunity,onCreateQuote,onScheduleActivity}=_ref;const[activeTab,setActiveTab]=useState('overview');// Modal states for future implementation\n// const [showStageModal, setShowStageModal] = useState(false);\n// const [showActivityModal, setShowActivityModal] = useState(false);\nconst stages=[{id:'prospecting',name:'Prospecting',probability:10,color:'bg-gray-500'},{id:'qualification',name:'Qualification',probability:25,color:'bg-blue-500'},{id:'needs_analysis',name:'Needs Analysis',probability:40,color:'bg-yellow-500'},{id:'proposal',name:'Proposal',probability:60,color:'bg-orange-500'},{id:'negotiation',name:'Negotiation',probability:80,color:'bg-red-500'},{id:'closed_won',name:'Closed Won',probability:100,color:'bg-green-500'},{id:'closed_lost',name:'Closed Lost',probability:0,color:'bg-gray-400'}];const currentStage=stages.find(s=>s.id===opportunity.stage);const nextStage=stages[stages.findIndex(s=>s.id===opportunity.stage)+1];const primaryContact=contacts.find(c=>c.id===account.primaryContact);const decisionMakers=contacts.filter(c=>c.role==='decision_maker');const upcomingActivities=activities.filter(a=>a.status==='planned'&&new Date(a.scheduledDate||'')>new Date()).sort((a,b)=>new Date(a.scheduledDate||'').getTime()-new Date(b.scheduledDate||'').getTime());const recentActivities=activities.filter(a=>a.status==='completed').sort((a,b)=>new Date(b.completedDate||'').getTime()-new Date(a.completedDate||'').getTime()).slice(0,5);const relevantPlaybook=playbooks.find(p=>p.industry===account.industry||p.useCase.toLowerCase().includes('kitchen'));const handleStageChange=newStage=>{const stage=stages.find(s=>s.id===newStage);if(stage){onUpdateOpportunity(_objectSpread(_objectSpread({},opportunity),{},{stage:newStage,probability:stage.probability,lastModified:new Date()}));// setShowStageModal(false); // Modal functionality coming soon\n}};const getHealthScore=()=>{let score=0;// Recent activity\nconst recentActivity=activities.find(a=>new Date(a.completedDate||a.scheduledDate||'').getTime()>Date.now()-7*24*60*60*1000);if(recentActivity)score+=25;// Decision maker engagement\nif(decisionMakers.length>0)score+=25;// Stage progression\nif(opportunity.stage!=='prospecting')score+=25;// Timeline\nconst daysToClose=Math.ceil((new Date(opportunity.closeDate).getTime()-Date.now())/(1000*60*60*24));if(daysToClose>0&&daysToClose<90)score+=25;return score;};const healthScore=getHealthScore();return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:opportunity.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:account.name}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 rounded-full text-xs font-medium \".concat(currentStage===null||currentStage===void 0?void 0:currentStage.color,\" text-white\"),children:currentStage===null||currentStage===void 0?void 0:currentStage.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium \".concat(healthScore>=75?'text-green-600':healthScore>=50?'text-yellow-600':'text-red-600'),children:[\"Health: \",healthScore,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Activity scheduling modal - coming soon'),className:\"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md\",children:\"+ Activity\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCreateQuote,className:\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md\",children:\"Create Quote\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Stage advancement modal - coming soon'),className:\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md\",children:\"Advance Stage\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Sales Process\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[opportunity.probability,\"% probability\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:stages.slice(0,-1).map((stage,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(stages.findIndex(s=>s.id===opportunity.stage)>=index?stage.color:'bg-gray-200')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 mt-1\",children:stage.name})]},stage.id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:[{id:'overview',name:'Overview',icon:'ðŸ“Š'},{id:'activities',name:'Activities',icon:'ðŸ“…'},{id:'playbook',name:'Sales Playbook',icon:'ðŸ“š'},{id:'recommendations',name:'Recommendations',icon:'ðŸ’¡'}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:tab.icon}),tab.name]},tab.id))})}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Opportunity Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Expected Value\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-green-600\",children:[\"$\",opportunity.expectedValue.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Close Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-900\",children:new Date(opportunity.closeDate).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Source\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:opportunity.source})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Days to Close\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900\",children:[Math.ceil((new Date(opportunity.closeDate).getTime()-Date.now())/(1000*60*60*24)),\" days\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Industry\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:account.industry})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900\",children:[\"$\",(account.revenue/1000000).toFixed(1),\"M\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Employees\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:account.employees.toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Credit Rating\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 rounded-full text-xs font-medium \".concat(account.creditRating==='excellent'?'bg-green-100 text-green-800':account.creditRating==='good'?'bg-blue-100 text-blue-800':account.creditRating==='fair'?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'),children:account.creditRating})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Next Steps\"}),nextStage?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-blue-900 mb-2\",children:[\"Ready to advance to: \",nextStage.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700 mb-3\",children:[\"This will increase probability to \",nextStage.probability,\"%\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStageChange(nextStage.id),className:\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm\",children:[\"Advance to \",nextStage.name]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Opportunity is in final stage\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Key Contacts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[primaryContact&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-blue-500 pl-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[primaryContact.firstName,\" \",primaryContact.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:primaryContact.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600\",children:\"Primary Contact\"})]}),decisionMakers.map(contact=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-green-500 pl-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[contact.firstName,\" \",contact.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:contact.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600\",children:\"Decision Maker\"})]},contact.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Recent Activities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:recentActivities.slice(0,3).map(activity=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-gray-300 pl-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:activity.subject}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[activity.type,\" \\u2022 \",new Date(activity.completedDate||'').toLocaleDateString()]})]},activity.id))})]}),upcomingActivities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Upcoming\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:upcomingActivities.slice(0,3).map(activity=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-yellow-500 pl-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:activity.subject}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[activity.type,\" \\u2022 \",new Date(activity.scheduledDate||'').toLocaleDateString()]})]},activity.id))})]})]})]}),activeTab==='recommendations'&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-3\",children:rec.type==='cross_sell'?'ðŸ”—':rec.type==='up_sell'?'ðŸ“ˆ':rec.type==='substitute'?'ðŸ”„':'ðŸ§©'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 capitalize\",children:rec.type.replace('_',' ')}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Confidence: \",rec.confidence,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:rec.reason}),rec.additionalRevenue&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-800\",children:[\"Potential additional revenue: $\",rec.additionalRevenue.toLocaleString()]})}),rec.savings&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[\"Customer savings: $\",rec.savings.toLocaleString()]})})]},index))}),activeTab==='playbook'&&relevantPlaybook&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:relevantPlaybook.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:relevantPlaybook.useCase}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Discovery Questions\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:relevantPlaybook.discoveryQuestions.map((question,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 mr-2\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:question})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Value Propositions\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:relevantPlaybook.valuePropositions.map((value,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mr-2\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:value})]},index))})]})]})]})]})]});};export default OpportunityManager;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","OpportunityManager","_ref","opportunity","account","contacts","activities","recommendations","playbooks","onUpdateOpportunity","onCreateQuote","onScheduleActivity","activeTab","setActiveTab","stages","id","name","probability","color","currentStage","find","s","stage","nextStage","findIndex","primaryContact","c","decisionMakers","filter","role","upcomingActivities","a","status","Date","scheduledDate","sort","b","getTime","recentActivities","completedDate","slice","relevantPlaybook","p","industry","useCase","toLowerCase","includes","handleStageChange","newStage","_objectSpread","lastModified","getHealthScore","score","recentActivity","now","length","daysToClose","Math","ceil","closeDate","healthScore","className","children","concat","onClick","alert","map","index","icon","tab","expectedValue","toLocaleString","toLocaleDateString","source","revenue","toFixed","employees","creditRating","firstName","lastName","title","contact","activity","subject","type","rec","replace","confidence","reason","additionalRevenue","savings","discoveryQuestions","question","valuePropositions","value"],"sources":["/Users/dkjesuschua/Documents/demo_cpq/src/components/enterprise/OpportunityManager.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Opportunity, Account, Contact, SalesActivity, ProductRecommendation, SalesPlaybook } from '../../types/enterprise';\n\ninterface OpportunityManagerProps {\n  opportunity: Opportunity;\n  account: Account;\n  contacts: Contact[];\n  activities: SalesActivity[];\n  recommendations: ProductRecommendation[];\n  playbooks: SalesPlaybook[];\n  onUpdateOpportunity: (opportunity: Opportunity) => void;\n  onCreateQuote: () => void;\n  onScheduleActivity: (activity: Partial<SalesActivity>) => void;\n}\n\nconst OpportunityManager: React.FC<OpportunityManagerProps> = ({\n  opportunity,\n  account,\n  contacts,\n  activities,\n  recommendations,\n  playbooks,\n  onUpdateOpportunity,\n  onCreateQuote,\n  onScheduleActivity\n}) => {\n  const [activeTab, setActiveTab] = useState<'overview' | 'activities' | 'playbook' | 'recommendations'>('overview');\n  // Modal states for future implementation\n  // const [showStageModal, setShowStageModal] = useState(false);\n  // const [showActivityModal, setShowActivityModal] = useState(false);\n\n  const stages = [\n    { id: 'prospecting', name: 'Prospecting', probability: 10, color: 'bg-gray-500' },\n    { id: 'qualification', name: 'Qualification', probability: 25, color: 'bg-blue-500' },\n    { id: 'needs_analysis', name: 'Needs Analysis', probability: 40, color: 'bg-yellow-500' },\n    { id: 'proposal', name: 'Proposal', probability: 60, color: 'bg-orange-500' },\n    { id: 'negotiation', name: 'Negotiation', probability: 80, color: 'bg-red-500' },\n    { id: 'closed_won', name: 'Closed Won', probability: 100, color: 'bg-green-500' },\n    { id: 'closed_lost', name: 'Closed Lost', probability: 0, color: 'bg-gray-400' },\n  ];\n\n  const currentStage = stages.find(s => s.id === opportunity.stage);\n  const nextStage = stages[stages.findIndex(s => s.id === opportunity.stage) + 1];\n\n  const primaryContact = contacts.find(c => c.id === account.primaryContact);\n  const decisionMakers = contacts.filter(c => c.role === 'decision_maker');\n\n  const upcomingActivities = activities\n    .filter(a => a.status === 'planned' && new Date(a.scheduledDate || '') > new Date())\n    .sort((a, b) => new Date(a.scheduledDate || '').getTime() - new Date(b.scheduledDate || '').getTime());\n\n  const recentActivities = activities\n    .filter(a => a.status === 'completed')\n    .sort((a, b) => new Date(b.completedDate || '').getTime() - new Date(a.completedDate || '').getTime())\n    .slice(0, 5);\n\n  const relevantPlaybook = playbooks.find(p => \n    p.industry === account.industry || p.useCase.toLowerCase().includes('kitchen')\n  );\n\n  const handleStageChange = (newStage: string) => {\n    const stage = stages.find(s => s.id === newStage);\n    if (stage) {\n      onUpdateOpportunity({\n        ...opportunity,\n        stage: newStage as any,\n        probability: stage.probability,\n        lastModified: new Date()\n      });\n      // setShowStageModal(false); // Modal functionality coming soon\n    }\n  };\n\n  const getHealthScore = () => {\n    let score = 0;\n    \n    // Recent activity\n    const recentActivity = activities.find(a => \n      new Date(a.completedDate || a.scheduledDate || '').getTime() > Date.now() - 7 * 24 * 60 * 60 * 1000\n    );\n    if (recentActivity) score += 25;\n    \n    // Decision maker engagement\n    if (decisionMakers.length > 0) score += 25;\n    \n    // Stage progression\n    if (opportunity.stage !== 'prospecting') score += 25;\n    \n    // Timeline\n    const daysToClose = Math.ceil((new Date(opportunity.closeDate).getTime() - Date.now()) / (1000 * 60 * 60 * 24));\n    if (daysToClose > 0 && daysToClose < 90) score += 25;\n    \n    return score;\n  };\n\n  const healthScore = getHealthScore();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">{opportunity.name}</h1>\n              <div className=\"flex items-center space-x-4 mt-2\">\n                <span className=\"text-sm text-gray-600\">{account.name}</span>\n                <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${currentStage?.color} text-white`}>\n                  {currentStage?.name}\n                </span>\n                <span className={`text-sm font-medium ${\n                  healthScore >= 75 ? 'text-green-600' : \n                  healthScore >= 50 ? 'text-yellow-600' : 'text-red-600'\n                }`}>\n                  Health: {healthScore}%\n                </span>\n              </div>\n            </div>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => alert('Activity scheduling modal - coming soon')}\n                className=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md\"\n              >\n                + Activity\n              </button>\n              <button\n                onClick={onCreateQuote}\n                className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md\"\n              >\n                Create Quote\n              </button>\n              <button\n                onClick={() => alert('Stage advancement modal - coming soon')}\n                className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md\"\n              >\n                Advance Stage\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"bg-white border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm text-gray-600\">Sales Process</span>\n            <span className=\"text-sm text-gray-600\">{opportunity.probability}% probability</span>\n          </div>\n          <div className=\"flex space-x-2\">\n            {stages.slice(0, -1).map((stage, index) => (\n              <div key={stage.id} className=\"flex-1\">\n                <div className={`h-2 rounded-full ${\n                  stages.findIndex(s => s.id === opportunity.stage) >= index\n                    ? stage.color\n                    : 'bg-gray-200'\n                }`}></div>\n                <div className=\"text-xs text-gray-600 mt-1\">{stage.name}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        {/* Tabs */}\n        <div className=\"border-b border-gray-200 mb-6\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {[\n              { id: 'overview', name: 'Overview', icon: 'ðŸ“Š' },\n              { id: 'activities', name: 'Activities', icon: 'ðŸ“…' },\n              { id: 'playbook', name: 'Sales Playbook', icon: 'ðŸ“š' },\n              { id: 'recommendations', name: 'Recommendations', icon: 'ðŸ’¡' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id as any)}\n                className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === tab.id\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <span className=\"mr-2\">{tab.icon}</span>\n                {tab.name}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 'overview' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            {/* Opportunity Details */}\n            <div className=\"lg:col-span-2 space-y-6\">\n              {/* Key Information */}\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Opportunity Details</h3>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Expected Value</label>\n                    <p className=\"text-2xl font-bold text-green-600\">${opportunity.expectedValue.toLocaleString()}</p>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Close Date</label>\n                    <p className=\"text-lg text-gray-900\">{new Date(opportunity.closeDate).toLocaleDateString()}</p>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Source</label>\n                    <p className=\"text-gray-900\">{opportunity.source}</p>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Days to Close</label>\n                    <p className=\"text-gray-900\">\n                      {Math.ceil((new Date(opportunity.closeDate).getTime() - Date.now()) / (1000 * 60 * 60 * 24))} days\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Account Information */}\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Account Information</h3>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Industry</label>\n                    <p className=\"text-gray-900\">{account.industry}</p>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Revenue</label>\n                    <p className=\"text-gray-900\">${(account.revenue / 1000000).toFixed(1)}M</p>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Employees</label>\n                    <p className=\"text-gray-900\">{account.employees.toLocaleString()}</p>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Credit Rating</label>\n                    <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                      account.creditRating === 'excellent' ? 'bg-green-100 text-green-800' :\n                      account.creditRating === 'good' ? 'bg-blue-100 text-blue-800' :\n                      account.creditRating === 'fair' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-red-100 text-red-800'\n                    }`}>\n                      {account.creditRating}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Next Steps */}\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Next Steps</h3>\n                {nextStage ? (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-blue-900 mb-2\">Ready to advance to: {nextStage.name}</h4>\n                    <p className=\"text-sm text-blue-700 mb-3\">\n                      This will increase probability to {nextStage.probability}%\n                    </p>\n                    <button\n                      onClick={() => handleStageChange(nextStage.id)}\n                      className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm\"\n                    >\n                      Advance to {nextStage.name}\n                    </button>\n                  </div>\n                ) : (\n                  <p className=\"text-gray-600\">Opportunity is in final stage</p>\n                )}\n              </div>\n            </div>\n\n            {/* Sidebar */}\n            <div className=\"space-y-6\">\n              {/* Contacts */}\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Key Contacts</h3>\n                <div className=\"space-y-3\">\n                  {primaryContact && (\n                    <div className=\"border-l-4 border-blue-500 pl-3\">\n                      <p className=\"font-medium text-gray-900\">{primaryContact.firstName} {primaryContact.lastName}</p>\n                      <p className=\"text-sm text-gray-600\">{primaryContact.title}</p>\n                      <p className=\"text-sm text-blue-600\">Primary Contact</p>\n                    </div>\n                  )}\n                  {decisionMakers.map((contact) => (\n                    <div key={contact.id} className=\"border-l-4 border-green-500 pl-3\">\n                      <p className=\"font-medium text-gray-900\">{contact.firstName} {contact.lastName}</p>\n                      <p className=\"text-sm text-gray-600\">{contact.title}</p>\n                      <p className=\"text-sm text-green-600\">Decision Maker</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Recent Activities */}\n              <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Recent Activities</h3>\n                <div className=\"space-y-3\">\n                  {recentActivities.slice(0, 3).map((activity) => (\n                    <div key={activity.id} className=\"border-l-4 border-gray-300 pl-3\">\n                      <p className=\"text-sm font-medium text-gray-900\">{activity.subject}</p>\n                      <p className=\"text-xs text-gray-600\">\n                        {activity.type} â€¢ {new Date(activity.completedDate || '').toLocaleDateString()}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Upcoming Activities */}\n              {upcomingActivities.length > 0 && (\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Upcoming</h3>\n                  <div className=\"space-y-3\">\n                    {upcomingActivities.slice(0, 3).map((activity) => (\n                      <div key={activity.id} className=\"border-l-4 border-yellow-500 pl-3\">\n                        <p className=\"text-sm font-medium text-gray-900\">{activity.subject}</p>\n                        <p className=\"text-xs text-gray-600\">\n                          {activity.type} â€¢ {new Date(activity.scheduledDate || '').toLocaleDateString()}\n                        </p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'recommendations' && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {recommendations.map((rec, index) => (\n              <div key={index} className=\"bg-white rounded-lg shadow p-6\">\n                <div className=\"flex items-center mb-3\">\n                  <span className=\"text-2xl mr-3\">\n                    {rec.type === 'cross_sell' ? 'ðŸ”—' : \n                     rec.type === 'up_sell' ? 'ðŸ“ˆ' : \n                     rec.type === 'substitute' ? 'ðŸ”„' : 'ðŸ§©'}\n                  </span>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900 capitalize\">{rec.type.replace('_', ' ')}</h3>\n                    <p className=\"text-sm text-gray-600\">Confidence: {rec.confidence}%</p>\n                  </div>\n                </div>\n                <p className=\"text-gray-700 mb-4\">{rec.reason}</p>\n                {rec.additionalRevenue && (\n                  <div className=\"bg-green-50 border border-green-200 rounded p-3\">\n                    <p className=\"text-sm text-green-800\">\n                      Potential additional revenue: ${rec.additionalRevenue.toLocaleString()}\n                    </p>\n                  </div>\n                )}\n                {rec.savings && (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded p-3\">\n                    <p className=\"text-sm text-blue-800\">\n                      Customer savings: ${rec.savings.toLocaleString()}\n                    </p>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {activeTab === 'playbook' && relevantPlaybook && (\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">{relevantPlaybook.name}</h3>\n            <p className=\"text-gray-600 mb-6\">{relevantPlaybook.useCase}</p>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-3\">Discovery Questions</h4>\n                <ul className=\"space-y-2\">\n                  {relevantPlaybook.discoveryQuestions.map((question, index) => (\n                    <li key={index} className=\"flex items-start\">\n                      <span className=\"text-blue-500 mr-2\">â€¢</span>\n                      <span className=\"text-gray-700\">{question}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n              \n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-3\">Value Propositions</h4>\n                <ul className=\"space-y-2\">\n                  {relevantPlaybook.valuePropositions.map((value, index) => (\n                    <li key={index} className=\"flex items-start\">\n                      <span className=\"text-green-500 mr-2\">â€¢</span>\n                      <span className=\"text-gray-700\">{value}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OpportunityManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}