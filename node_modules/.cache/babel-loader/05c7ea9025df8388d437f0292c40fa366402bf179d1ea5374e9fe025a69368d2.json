{"ast":null,"code":"import _objectSpread from\"/Users/dkjesuschua/Documents/demo_cpq/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SimplifiedQuoteBuilder=_ref=>{var _getRoom;let{quote,rooms,products,processings,processingRules,productDependencies,onQuoteUpdate}=_ref;const[selectedRoomFilter,setSelectedRoomFilter]=useState('all');const[orderDiscount,setOrderDiscount]=useState(quote.orderDiscount);const getProduct=productId=>products.find(p=>p.id===productId);const getProcessing=processingId=>processings.find(p=>p.id===processingId);const getRoom=roomId=>rooms.find(r=>r.id===roomId);const filteredItems=selectedRoomFilter==='all'?quote.items:quote.items.filter(item=>item.roomId===selectedRoomFilter);const updateQuantity=(itemId,newQuantity)=>{const updatedItems=quote.items.map(item=>{if(item.id===itemId){const updatedItem=_objectSpread(_objectSpread({},item),{},{quantity:newQuantity});updatedItem.totalPrice=updatedItem.basePrice*newQuantity+updatedItem.appliedProcessings.reduce((sum,ap)=>sum+ap.calculatedPrice,0);return updatedItem;}return item;});recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const removeItem=itemId=>{const updatedItems=quote.items.filter(item=>item.id!==itemId);recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const getAvailableProcessings=(productId,currentProcessings)=>{const product=getProduct(productId);if(!product)return[];// Get processings applicable to this product category\nlet available=processings.filter(proc=>proc.applicableProductCategories.includes(product.category));// Apply mutual exclusion rules\nconst mutualExclusionRules=processingRules.filter(rule=>rule.type==='mutual_exclusion');mutualExclusionRules.forEach(rule=>{const hasConflicting=currentProcessings.some(procId=>{var _rule$conditions$proc;return(_rule$conditions$proc=rule.conditions.processingIds)===null||_rule$conditions$proc===void 0?void 0:_rule$conditions$proc.includes(procId);});if(hasConflicting&&rule.actions.excludeProcessings){available=available.filter(proc=>{var _rule$actions$exclude;return!((_rule$actions$exclude=rule.actions.excludeProcessings)!==null&&_rule$actions$exclude!==void 0&&_rule$actions$exclude.includes(proc.id));});}});// Remove already applied processings\navailable=available.filter(proc=>!currentProcessings.includes(proc.id));return available;};const addProcessingToItem=(itemId,processingId)=>{const item=quote.items.find(i=>i.id===itemId);const processing=getProcessing(processingId);const product=item?getProduct(item.productId):null;if(!item||!processing||!product)return;// Calculate processing price\nlet calculatedPrice=0;if(processing.pricingType==='per_unit'){calculatedPrice=processing.price*item.quantity;}else if(processing.pricingType==='percentage'){calculatedPrice=item.basePrice*item.quantity*processing.price;}else if(processing.pricingType==='per_dimension'&&product.dimensions){calculatedPrice=(product.dimensions.width||0)*processing.price;}const updatedItems=quote.items.map(i=>{if(i.id===itemId){const updatedItem=_objectSpread(_objectSpread({},i),{},{appliedProcessings:[...i.appliedProcessings,{processingId,calculatedPrice}]});updatedItem.totalPrice=updatedItem.basePrice*updatedItem.quantity+updatedItem.appliedProcessings.reduce((sum,ap)=>sum+ap.calculatedPrice,0);return updatedItem;}return i;});recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const removeProcessingFromItem=(itemId,processingId)=>{const updatedItems=quote.items.map(item=>{if(item.id===itemId){const updatedItem=_objectSpread(_objectSpread({},item),{},{appliedProcessings:item.appliedProcessings.filter(ap=>ap.processingId!==processingId)});updatedItem.totalPrice=updatedItem.basePrice*updatedItem.quantity+updatedItem.appliedProcessings.reduce((sum,ap)=>sum+ap.calculatedPrice,0);return updatedItem;}return item;});recalculateQuote(_objectSpread(_objectSpread({},quote),{},{items:updatedItems}));};const applyOrderDiscount=()=>{const updatedQuote=_objectSpread(_objectSpread({},quote),{},{orderDiscount});recalculateQuote(updatedQuote);};const recalculateQuote=updatedQuote=>{const subtotal=updatedQuote.items.reduce((sum,item)=>sum+item.totalPrice,0);const customerDiscount=subtotal*(updatedQuote.customerDiscount/100);const totalDiscount=customerDiscount+updatedQuote.orderDiscount;const finalTotal=subtotal-totalDiscount;const finalQuote=_objectSpread(_objectSpread({},updatedQuote),{},{subtotal,totalDiscount,finalTotal,requiresApproval:finalTotal>updatedQuote.approvalThreshold});onQuoteUpdate(finalQuote);};// Group items by room for better organization\nconst itemsByRoom=quote.items.reduce((acc,item)=>{const roomId=item.roomId;if(!acc[roomId])acc[roomId]=[];acc[roomId].push(item);return acc;},{});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Filter by Room\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedRoomFilter,onChange:e=>setSelectedRoomFilter(e.target.value),className:\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsxs(\"option\",{value:\"all\",children:[\"All Rooms (\",quote.items.length,\" items)\"]}),rooms.map(room=>{const roomItems=quote.items.filter(item=>item.roomId===room.id);return/*#__PURE__*/_jsxs(\"option\",{value:room.id,children:[room.name,\" (\",roomItems.length,\" items)\"]},room.id);})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:selectedRoomFilter==='all'?// Show all rooms\nrooms.map(room=>{const roomItems=itemsByRoom[room.id]||[];if(roomItems.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200 bg-blue-50\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:room.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[roomItems.length,\" items\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:roomItems.map(item=>/*#__PURE__*/_jsx(ItemRow,{item:item,product:getProduct(item.productId),getProcessing:getProcessing,getAvailableProcessings:getAvailableProcessings,updateQuantity:updateQuantity,removeItem:removeItem,addProcessingToItem:addProcessingToItem,removeProcessingFromItem:removeProcessingFromItem},item.id))})]},room.id);}):/*#__PURE__*/// Show single room\n_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[((_getRoom=getRoom(selectedRoomFilter))===null||_getRoom===void 0?void 0:_getRoom.name)||'Room',\" Items\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:filteredItems.map(item=>/*#__PURE__*/_jsx(ItemRow,{item:item,product:getProduct(item.productId),getProcessing:getProcessing,getAvailableProcessings:getAvailableProcessings,updateQuantity:updateQuantity,removeItem:removeItem,addProcessingToItem:addProcessingToItem,removeProcessingFromItem:removeProcessingFromItem},item.id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Quote Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",quote.subtotal.toFixed(2)]})]}),quote.customerDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Customer Discount (\",quote.customerDiscount,\"%):\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-600\",children:[\"-$\",(quote.subtotal*quote.customerDiscount/100).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Order Discount:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",value:orderDiscount,onChange:e=>setOrderDiscount(parseFloat(e.target.value)||0),className:\"w-24 px-2 py-1 border border-gray-300 rounded text-right\",placeholder:\"0.00\"}),/*#__PURE__*/_jsx(\"button\",{onClick:applyOrderDiscount,className:\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\",children:\"Apply\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold text-gray-900\",children:\"Final Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-green-600\",children:[\"$\",quote.finalTotal.toFixed(2)]})]})}),quote.requiresApproval&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[\"\\u26A0\\uFE0F This quote requires approval as it exceeds $\",quote.approvalThreshold.toLocaleString()]})})]})]})]});};// Extracted ItemRow component for cleaner code\nconst ItemRow=_ref2=>{let{item,product,getProcessing,getAvailableProcessings,updateQuantity,removeItem,addProcessingToItem,removeProcessingFromItem}=_ref2;if(!product)return null;const currentProcessingIds=item.appliedProcessings.map(ap=>ap.processingId);const availableProcessings=getAvailableProcessings(item.productId,currentProcessingIds);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:product.description}),product.dimensions&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[product.dimensions.width,\"\\\"W \\xD7 \",product.dimensions.height,\"\\\"H \\xD7 \",product.dimensions.depth,\"\\\"D\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"Qty:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:item.quantity,onChange:e=>updateQuantity(item.id,parseInt(e.target.value)||1),className:\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:[\"$\",item.totalPrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Base: $\",(item.basePrice*item.quantity).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(item.id),className:\"text-red-600 hover:text-red-800 p-1\",title:\"Remove item\",children:\"\\u2715\"})]})]}),item.appliedProcessings.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Applied Processings:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:item.appliedProcessings.map(ap=>{const processing=getProcessing(ap.processingId);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-900\",children:processing===null||processing===void 0?void 0:processing.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-700 ml-2\",children:processing===null||processing===void 0?void 0:processing.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-blue-900\",children:[\"+$\",ap.calculatedPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeProcessingFromItem(item.id,ap.processingId),className:\"text-red-600 hover:text-red-800 text-xs\",children:\"Remove\"})]})]},ap.processingId);})})]}),availableProcessings.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Available Processings:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",children:availableProcessings.map(processing=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addProcessingToItem(item.id,processing.id),className:\"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-900\",children:processing.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:processing.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-600\",children:processing.pricingType==='percentage'?\"\".concat((processing.price*100).toFixed(0),\"%\"):\"$\".concat(processing.price.toFixed(2))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:processing.pricingType.replace('_',' ')})]})]})},processing.id))})]})]});};export default SimplifiedQuoteBuilder;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SimplifiedQuoteBuilder","_ref","_getRoom","quote","rooms","products","processings","processingRules","productDependencies","onQuoteUpdate","selectedRoomFilter","setSelectedRoomFilter","orderDiscount","setOrderDiscount","getProduct","productId","find","p","id","getProcessing","processingId","getRoom","roomId","r","filteredItems","items","filter","item","updateQuantity","itemId","newQuantity","updatedItems","map","updatedItem","_objectSpread","quantity","totalPrice","basePrice","appliedProcessings","reduce","sum","ap","calculatedPrice","recalculateQuote","removeItem","getAvailableProcessings","currentProcessings","product","available","proc","applicableProductCategories","includes","category","mutualExclusionRules","rule","type","forEach","hasConflicting","some","procId","_rule$conditions$proc","conditions","processingIds","actions","excludeProcessings","_rule$actions$exclude","addProcessingToItem","i","processing","pricingType","price","dimensions","width","removeProcessingFromItem","applyOrderDiscount","updatedQuote","subtotal","customerDiscount","totalDiscount","finalTotal","finalQuote","requiresApproval","approvalThreshold","itemsByRoom","acc","push","className","children","value","onChange","e","target","length","room","roomItems","name","ItemRow","toFixed","min","step","parseFloat","placeholder","onClick","toLocaleString","_ref2","currentProcessingIds","availableProcessings","description","height","depth","parseInt","title","concat","replace"],"sources":["/Users/dkjesuschua/Documents/demo_cpq/src/components/SimplifiedQuoteBuilder.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Quote, Product, Processing, ProcessingRule, ProductDependency, Room } from '../types';\n\ninterface SimplifiedQuoteBuilderProps {\n  quote: Quote;\n  rooms: Room[];\n  products: Product[];\n  processings: Processing[];\n  processingRules: ProcessingRule[];\n  productDependencies: ProductDependency[];\n  onQuoteUpdate: (quote: Quote) => void;\n}\n\nconst SimplifiedQuoteBuilder: React.FC<SimplifiedQuoteBuilderProps> = ({\n  quote,\n  rooms,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  const [selectedRoomFilter, setSelectedRoomFilter] = useState<string>('all');\n  const [orderDiscount, setOrderDiscount] = useState(quote.orderDiscount);\n\n  const getProduct = (productId: string) => products.find(p => p.id === productId);\n  const getProcessing = (processingId: string) => processings.find(p => p.id === processingId);\n  const getRoom = (roomId: string) => rooms.find(r => r.id === roomId);\n\n  const filteredItems = selectedRoomFilter === 'all' \n    ? quote.items \n    : quote.items.filter(item => item.roomId === selectedRoomFilter);\n\n  const updateQuantity = (itemId: string, newQuantity: number) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = { ...item, quantity: newQuantity };\n        updatedItem.totalPrice = (updatedItem.basePrice * newQuantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeItem = (itemId: string) => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const getAvailableProcessings = (productId: string, currentProcessings: string[]) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    // Get processings applicable to this product category\n    let available = processings.filter(proc => \n      proc.applicableProductCategories.includes(product.category)\n    );\n\n    // Apply mutual exclusion rules\n    const mutualExclusionRules = processingRules.filter(rule => \n      rule.type === 'mutual_exclusion'\n    );\n\n    mutualExclusionRules.forEach(rule => {\n      const hasConflicting = currentProcessings.some(procId => \n        rule.conditions.processingIds?.includes(procId)\n      );\n      \n      if (hasConflicting && rule.actions.excludeProcessings) {\n        available = available.filter(proc => \n          !rule.actions.excludeProcessings?.includes(proc.id)\n        );\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n\n    return available;\n  };\n\n  const addProcessingToItem = (itemId: string, processingId: string) => {\n    const item = quote.items.find(i => i.id === itemId);\n    const processing = getProcessing(processingId);\n    const product = item ? getProduct(item.productId) : null;\n    \n    if (!item || !processing || !product) return;\n\n    // Calculate processing price\n    let calculatedPrice = 0;\n    if (processing.pricingType === 'per_unit') {\n      calculatedPrice = processing.price * item.quantity;\n    } else if (processing.pricingType === 'percentage') {\n      calculatedPrice = item.basePrice * item.quantity * processing.price;\n    } else if (processing.pricingType === 'per_dimension' && product.dimensions) {\n      calculatedPrice = (product.dimensions.width || 0) * processing.price;\n    }\n\n    const updatedItems = quote.items.map(i => {\n      if (i.id === itemId) {\n        const updatedItem = {\n          ...i,\n          appliedProcessings: [\n            ...i.appliedProcessings,\n            { processingId, calculatedPrice }\n          ]\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return i;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeProcessingFromItem = (itemId: string, processingId: string) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const applyOrderDiscount = () => {\n    const updatedQuote = { ...quote, orderDiscount };\n    recalculateQuote(updatedQuote);\n  };\n\n  const recalculateQuote = (updatedQuote: Quote) => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const customerDiscount = subtotal * (updatedQuote.customerDiscount / 100);\n    const totalDiscount = customerDiscount + updatedQuote.orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n\n    const finalQuote = {\n      ...updatedQuote,\n      subtotal,\n      totalDiscount,\n      finalTotal,\n      requiresApproval: finalTotal > updatedQuote.approvalThreshold\n    };\n\n    onQuoteUpdate(finalQuote);\n  };\n\n  // Group items by room for better organization\n  const itemsByRoom = quote.items.reduce((acc, item) => {\n    const roomId = item.roomId;\n    if (!acc[roomId]) acc[roomId] = [];\n    acc[roomId].push(item);\n    return acc;\n  }, {} as Record<string, typeof quote.items>);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Room Filter */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Filter by Room</h3>\n          <select\n            value={selectedRoomFilter}\n            onChange={(e) => setSelectedRoomFilter(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Rooms ({quote.items.length} items)</option>\n            {rooms.map(room => {\n              const roomItems = quote.items.filter(item => item.roomId === room.id);\n              return (\n                <option key={room.id} value={room.id}>\n                  {room.name} ({roomItems.length} items)\n                </option>\n              );\n            })}\n          </select>\n        </div>\n      </div>\n\n      {/* Quote Items by Room */}\n      <div className=\"space-y-6\">\n        {selectedRoomFilter === 'all' ? (\n          // Show all rooms\n          rooms.map(room => {\n            const roomItems = itemsByRoom[room.id] || [];\n            if (roomItems.length === 0) return null;\n\n            return (\n              <div key={room.id} className=\"bg-white rounded-lg shadow\">\n                <div className=\"p-4 border-b border-gray-200 bg-blue-50\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">{room.name}</h3>\n                  <p className=\"text-sm text-gray-600\">{roomItems.length} items</p>\n                </div>\n                <div className=\"divide-y divide-gray-200\">\n                  {roomItems.map(item => (\n                    <ItemRow\n                      key={item.id}\n                      item={item}\n                      product={getProduct(item.productId)}\n                      getProcessing={getProcessing}\n                      getAvailableProcessings={getAvailableProcessings}\n                      updateQuantity={updateQuantity}\n                      removeItem={removeItem}\n                      addProcessingToItem={addProcessingToItem}\n                      removeProcessingFromItem={removeProcessingFromItem}\n                    />\n                  ))}\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          // Show single room\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"p-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">\n                {getRoom(selectedRoomFilter)?.name || 'Room'} Items\n              </h3>\n            </div>\n            <div className=\"divide-y divide-gray-200\">\n              {filteredItems.map(item => (\n                <ItemRow\n                  key={item.id}\n                  item={item}\n                  product={getProduct(item.productId)}\n                  getProcessing={getProcessing}\n                  getAvailableProcessings={getAvailableProcessings}\n                  updateQuantity={updateQuantity}\n                  removeItem={removeItem}\n                  addProcessingToItem={addProcessingToItem}\n                  removeProcessingFromItem={removeProcessingFromItem}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Quote Totals */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Quote Summary</h3>\n        \n        <div className=\"space-y-3\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Subtotal:</span>\n            <span className=\"font-medium\">${quote.subtotal.toFixed(2)}</span>\n          </div>\n          \n          {quote.customerDiscount > 0 && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Customer Discount ({quote.customerDiscount}%):</span>\n              <span className=\"text-red-600\">-${(quote.subtotal * quote.customerDiscount / 100).toFixed(2)}</span>\n            </div>\n          )}\n          \n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Order Discount:</span>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={orderDiscount}\n                onChange={(e) => setOrderDiscount(parseFloat(e.target.value) || 0)}\n                className=\"w-24 px-2 py-1 border border-gray-300 rounded text-right\"\n                placeholder=\"0.00\"\n              />\n              <button\n                onClick={applyOrderDiscount}\n                className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n              >\n                Apply\n              </button>\n            </div>\n          </div>\n\n          <div className=\"pt-3 border-t border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-lg font-semibold text-gray-900\">Final Total:</span>\n              <span className=\"text-xl font-bold text-green-600\">${quote.finalTotal.toFixed(2)}</span>\n            </div>\n          </div>\n\n          {quote.requiresApproval && (\n            <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\n              <p className=\"text-sm text-yellow-800\">\n                ⚠️ This quote requires approval as it exceeds ${quote.approvalThreshold.toLocaleString()}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Extracted ItemRow component for cleaner code\nconst ItemRow: React.FC<{\n  item: any;\n  product: any;\n  getProcessing: any;\n  getAvailableProcessings: any;\n  updateQuantity: any;\n  removeItem: any;\n  addProcessingToItem: any;\n  removeProcessingFromItem: any;\n}> = ({\n  item,\n  product,\n  getProcessing,\n  getAvailableProcessings,\n  updateQuantity,\n  removeItem,\n  addProcessingToItem,\n  removeProcessingFromItem\n}) => {\n  if (!product) return null;\n\n  const currentProcessingIds = item.appliedProcessings.map((ap: any) => ap.processingId);\n  const availableProcessings = getAvailableProcessings(item.productId, currentProcessingIds);\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-start mb-4\">\n        <div className=\"flex-1\">\n          <h4 className=\"text-lg font-medium text-gray-900\">{product.name}</h4>\n          <p className=\"text-sm text-gray-600\">{product.description}</p>\n          {product.dimensions && (\n            <p className=\"text-xs text-gray-500 mt-1\">\n              {product.dimensions.width}\"W × {product.dimensions.height}\"H × {product.dimensions.depth}\"D\n            </p>\n          )}\n        </div>\n        \n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-2\">\n            <label className=\"text-sm text-gray-600\">Qty:</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={item.quantity}\n              onChange={(e) => updateQuantity(item.id, parseInt(e.target.value) || 1)}\n              className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n            />\n          </div>\n          \n          <div className=\"text-right\">\n            <p className=\"text-lg font-semibold text-gray-900\">\n              ${item.totalPrice.toFixed(2)}\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              Base: ${(item.basePrice * item.quantity).toFixed(2)}\n            </p>\n          </div>\n          \n          <button\n            onClick={() => removeItem(item.id)}\n            className=\"text-red-600 hover:text-red-800 p-1\"\n            title=\"Remove item\"\n          >\n            ✕\n          </button>\n        </div>\n      </div>\n\n      {/* Applied Processings */}\n      {item.appliedProcessings.length > 0 && (\n        <div className=\"mb-4\">\n          <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Applied Processings:</h5>\n          <div className=\"space-y-2\">\n            {item.appliedProcessings.map((ap: any) => {\n              const processing = getProcessing(ap.processingId);\n              return (\n                <div key={ap.processingId} className=\"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\">\n                  <div>\n                    <span className=\"text-sm font-medium text-blue-900\">{processing?.name}</span>\n                    <span className=\"text-xs text-blue-700 ml-2\">{processing?.description}</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-sm font-medium text-blue-900\">\n                      +${ap.calculatedPrice.toFixed(2)}\n                    </span>\n                    <button\n                      onClick={() => removeProcessingFromItem(item.id, ap.processingId)}\n                      className=\"text-red-600 hover:text-red-800 text-xs\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Available Processings */}\n      {availableProcessings.length > 0 && (\n        <div>\n          <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Available Processings:</h5>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n            {availableProcessings.map((processing: any) => (\n              <button\n                key={processing.id}\n                onClick={() => addProcessingToItem(item.id, processing.id)}\n                className=\"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\"\n              >\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <h6 className=\"text-sm font-medium text-gray-900\">{processing.name}</h6>\n                    <p className=\"text-xs text-gray-600\">{processing.description}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm font-medium text-green-600\">\n                      {processing.pricingType === 'percentage' \n                        ? `${(processing.price * 100).toFixed(0)}%`\n                        : `$${processing.price.toFixed(2)}`\n                      }\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{processing.pricingType.replace('_', ' ')}</p>\n                  </div>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SimplifiedQuoteBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}