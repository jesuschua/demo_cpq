{"ast":null,"code":"var _jsxFileName = \"/Users/dkjesuschua/Documents/demo_cpq/src/components/enterprise/EnterpriseQuoteBuilder.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EnterpriseQuoteBuilder = ({\n  quote,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  _s();\n  const [selectedItemId, setSelectedItemId] = useState(null);\n  const [orderDiscount, setOrderDiscount] = useState(quote.orderDiscount);\n  const getProduct = productId => products.find(p => p.id === productId);\n  const getProcessing = processingId => processings.find(p => p.id === processingId);\n  const updateQuantity = (itemId, newQuantity) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          quantity: newQuantity\n        };\n        updatedItem.totalPrice = updatedItem.basePrice * newQuantity + updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const removeItem = itemId => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const getAvailableProcessings = (productId, currentProcessings) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    // Get processings applicable to this product category\n    let available = processings.filter(proc => proc.applicableProductCategories.includes(product.category));\n\n    // Apply mutual exclusion rules\n    const mutualExclusionRules = processingRules.filter(rule => rule.type === 'mutual_exclusion');\n    mutualExclusionRules.forEach(rule => {\n      const hasConflicting = currentProcessings.some(procId => {\n        var _rule$conditions$proc;\n        return (_rule$conditions$proc = rule.conditions.processingIds) === null || _rule$conditions$proc === void 0 ? void 0 : _rule$conditions$proc.includes(procId);\n      });\n      if (hasConflicting && rule.actions.excludeProcessings) {\n        available = available.filter(proc => {\n          var _rule$actions$exclude;\n          return !((_rule$actions$exclude = rule.actions.excludeProcessings) !== null && _rule$actions$exclude !== void 0 && _rule$actions$exclude.includes(proc.id));\n        });\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n    return available;\n  };\n  const addProcessingToItem = (itemId, processingId) => {\n    const item = quote.items.find(i => i.id === itemId);\n    const processing = getProcessing(processingId);\n    const product = item ? getProduct(item.productId) : null;\n    if (!item || !processing || !product) return;\n\n    // Calculate processing price\n    let calculatedPrice = 0;\n    if (processing.pricingType === 'per_unit') {\n      calculatedPrice = processing.price * item.quantity;\n    } else if (processing.pricingType === 'percentage') {\n      calculatedPrice = item.basePrice * item.quantity * processing.price;\n    } else if (processing.pricingType === 'per_dimension' && product.dimensions) {\n      // Simplified calculation - in real system this would be more complex\n      calculatedPrice = (product.dimensions.width || 0) * processing.price;\n    }\n    const updatedItems = quote.items.map(i => {\n      if (i.id === itemId) {\n        const updatedItem = {\n          ...i,\n          appliedProcessings: [...i.appliedProcessings, {\n            processingId,\n            calculatedPrice\n          }]\n        };\n        updatedItem.totalPrice = updatedItem.basePrice * updatedItem.quantity + updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return i;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const removeProcessingFromItem = (itemId, processingId) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n        updatedItem.totalPrice = updatedItem.basePrice * updatedItem.quantity + updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const applyOrderDiscount = () => {\n    const updatedQuote = {\n      ...quote,\n      orderDiscount\n    };\n    recalculateQuote(updatedQuote);\n  };\n  const recalculateQuote = updatedQuote => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const contractDiscount = subtotal * (updatedQuote.contractDiscount / 100);\n    const customerDiscount = (subtotal - contractDiscount) * (updatedQuote.customerDiscount / 100);\n    const totalDiscount = contractDiscount + customerDiscount + updatedQuote.orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n    const finalQuote = {\n      ...updatedQuote,\n      subtotal,\n      totalDiscount,\n      finalTotal,\n      requiresApproval: finalTotal > updatedQuote.approvalThreshold\n    };\n    onQuoteUpdate(finalQuote);\n  };\n  const checkDependencies = productId => {\n    const deps = productDependencies.filter(dep => dep.productId === productId);\n    if (deps.length === 0) return [];\n    return deps.map(dep => {\n      const requiredProduct = getProduct(dep.requiredProductId);\n      return {\n        ...dep,\n        requiredProductName: (requiredProduct === null || requiredProduct === void 0 ? void 0 : requiredProduct.name) || 'Unknown Product'\n      };\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Quote Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Configure products and apply processings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-200\",\n        children: quote.items.map(item => {\n          const product = getProduct(item.productId);\n          const dependencies = checkDependencies(item.productId);\n          const currentProcessingIds = item.appliedProcessings.map(ap => ap.processingId);\n          const availableProcessings = getAvailableProcessings(item.productId, currentProcessingIds);\n          if (!product) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-medium text-gray-900\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: product.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this), product.dimensions && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mt-1\",\n                  children: [product.dimensions.width, \"\\\"W \\xD7 \", product.dimensions.height, \"\\\"H \\xD7 \", product.dimensions.depth, \"\\\"D\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Qty:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"1\",\n                    value: item.quantity,\n                    onChange: e => updateQuantity(item.id, parseInt(e.target.value) || 1),\n                    className: \"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg font-semibold text-gray-900\",\n                    children: [\"$\", item.totalPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"Base: $\", (item.basePrice * item.quantity).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeItem(item.id),\n                  className: \"text-red-600 hover:text-red-800 p-1\",\n                  title: \"Remove item\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), dependencies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-yellow-800 mb-2\",\n                children: \"Product Dependencies:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"text-sm text-yellow-700 space-y-1\",\n                children: dependencies.map(dep => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", dep.isAutomatic ? 'Auto-adds' : 'Consider adding', \": \", dep.requiredProductName, dep.quantityFormula !== '1' && ` (${dep.quantityFormula})`, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs ml-2\",\n                    children: [\"- \", dep.description]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 27\n                  }, this)]\n                }, dep.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 19\n            }, this), item.appliedProcessings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-gray-700 mb-2\",\n                children: \"Applied Processings:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: item.appliedProcessings.map(ap => {\n                  const processing = getProcessing(ap.processingId);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-medium text-blue-900\",\n                        children: processing === null || processing === void 0 ? void 0 : processing.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-blue-700 ml-2\",\n                        children: processing === null || processing === void 0 ? void 0 : processing.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-medium text-blue-900\",\n                        children: [\"+$\", ap.calculatedPrice.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => removeProcessingFromItem(item.id, ap.processingId),\n                        className: \"text-red-600 hover:text-red-800 text-xs\",\n                        children: \"Remove\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 29\n                    }, this)]\n                  }, ap.processingId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this), availableProcessings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-gray-700 mb-2\",\n                children: \"Available Processings:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",\n                children: availableProcessings.map(processing => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addProcessingToItem(item.id, processing.id),\n                  className: \"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        className: \"text-sm font-medium text-gray-900\",\n                        children: processing.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-600\",\n                        children: processing.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-medium text-green-600\",\n                        children: processing.pricingType === 'percentage' ? `${(processing.price * 100).toFixed(0)}%` : `$${processing.price.toFixed(2)}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: processing.pricingType.replace('_', ' ')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 27\n                  }, this)\n                }, processing.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Enterprise Quote Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Subtotal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: [\"$\", quote.subtotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), quote.contractDiscount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: [\"Contract Discount (\", quote.contractDiscount, \"%):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-600\",\n            children: [\"-$\", (quote.subtotal * quote.contractDiscount / 100).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this), quote.customerDiscount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: [\"Customer Discount (\", quote.customerDiscount, \"%):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-600\",\n            children: [\"-$\", ((quote.subtotal - quote.subtotal * quote.contractDiscount / 100) * quote.customerDiscount / 100).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Order Discount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              step: \"0.01\",\n              value: orderDiscount,\n              onChange: e => setOrderDiscount(parseFloat(e.target.value) || 0),\n              className: \"w-24 px-2 py-1 border border-gray-300 rounded text-right\",\n              placeholder: \"0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: applyOrderDiscount,\n              className: \"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\",\n              children: \"Apply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-3 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Final Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-bold text-green-600\",\n              children: [\"$\", quote.finalTotal.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), quote.requiresApproval && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-yellow-800\",\n            children: [\"\\u26A0\\uFE0F This quote requires approval as it exceeds $>\", quote.approvalThreshold.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(EnterpriseQuoteBuilder, \"gN1tP0RMvlCpmNyCl4IMeyS6K7w=\");\n_c = EnterpriseQuoteBuilder;\nexport default EnterpriseQuoteBuilder;\nvar _c;\n$RefreshReg$(_c, \"EnterpriseQuoteBuilder\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","EnterpriseQuoteBuilder","quote","products","processings","processingRules","productDependencies","onQuoteUpdate","_s","selectedItemId","setSelectedItemId","orderDiscount","setOrderDiscount","getProduct","productId","find","p","id","getProcessing","processingId","updateQuantity","itemId","newQuantity","updatedItems","items","map","item","updatedItem","quantity","totalPrice","basePrice","appliedProcessings","reduce","sum","ap","calculatedPrice","recalculateQuote","removeItem","filter","getAvailableProcessings","currentProcessings","product","available","proc","applicableProductCategories","includes","category","mutualExclusionRules","rule","type","forEach","hasConflicting","some","procId","_rule$conditions$proc","conditions","processingIds","actions","excludeProcessings","_rule$actions$exclude","addProcessingToItem","i","processing","pricingType","price","dimensions","width","removeProcessingFromItem","applyOrderDiscount","updatedQuote","subtotal","contractDiscount","customerDiscount","totalDiscount","finalTotal","finalQuote","requiresApproval","approvalThreshold","checkDependencies","deps","dep","length","requiredProduct","requiredProductId","requiredProductName","name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","dependencies","currentProcessingIds","availableProcessings","description","height","depth","min","value","onChange","e","parseInt","target","toFixed","onClick","title","isAutomatic","quantityFormula","replace","step","parseFloat","placeholder","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/dkjesuschua/Documents/demo_cpq/src/components/enterprise/EnterpriseQuoteBuilder.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Quote, Product, Processing, ProcessingRule, ProductDependency } from '../../types';\n\ninterface EnterpriseQuoteBuilderProps {\n  quote: Quote;\n  products: Product[];\n  processings: Processing[];\n  processingRules: ProcessingRule[];\n  productDependencies: ProductDependency[];\n  onQuoteUpdate: (quote: Quote) => void;\n}\n\nconst EnterpriseQuoteBuilder: React.FC<EnterpriseQuoteBuilderProps> = ({\n  quote,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n  const [orderDiscount, setOrderDiscount] = useState(quote.orderDiscount);\n\n  const getProduct = (productId: string) => products.find(p => p.id === productId);\n  const getProcessing = (processingId: string) => processings.find(p => p.id === processingId);\n\n  const updateQuantity = (itemId: string, newQuantity: number) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = { ...item, quantity: newQuantity };\n        updatedItem.totalPrice = (updatedItem.basePrice * newQuantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeItem = (itemId: string) => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const getAvailableProcessings = (productId: string, currentProcessings: string[]) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    // Get processings applicable to this product category\n    let available = processings.filter(proc => \n      proc.applicableProductCategories.includes(product.category)\n    );\n\n    // Apply mutual exclusion rules\n    const mutualExclusionRules = processingRules.filter(rule => \n      rule.type === 'mutual_exclusion'\n    );\n\n    mutualExclusionRules.forEach(rule => {\n      const hasConflicting = currentProcessings.some(procId => \n        rule.conditions.processingIds?.includes(procId)\n      );\n      \n      if (hasConflicting && rule.actions.excludeProcessings) {\n        available = available.filter(proc => \n          !rule.actions.excludeProcessings?.includes(proc.id)\n        );\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n\n    return available;\n  };\n\n  const addProcessingToItem = (itemId: string, processingId: string) => {\n    const item = quote.items.find(i => i.id === itemId);\n    const processing = getProcessing(processingId);\n    const product = item ? getProduct(item.productId) : null;\n    \n    if (!item || !processing || !product) return;\n\n    // Calculate processing price\n    let calculatedPrice = 0;\n    if (processing.pricingType === 'per_unit') {\n      calculatedPrice = processing.price * item.quantity;\n    } else if (processing.pricingType === 'percentage') {\n      calculatedPrice = item.basePrice * item.quantity * processing.price;\n    } else if (processing.pricingType === 'per_dimension' && product.dimensions) {\n      // Simplified calculation - in real system this would be more complex\n      calculatedPrice = (product.dimensions.width || 0) * processing.price;\n    }\n\n    const updatedItems = quote.items.map(i => {\n      if (i.id === itemId) {\n        const updatedItem = {\n          ...i,\n          appliedProcessings: [\n            ...i.appliedProcessings,\n            { processingId, calculatedPrice }\n          ]\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return i;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeProcessingFromItem = (itemId: string, processingId: string) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const applyOrderDiscount = () => {\n    const updatedQuote = { ...quote, orderDiscount };\n    recalculateQuote(updatedQuote);\n  };\n\n  const recalculateQuote = (updatedQuote: Quote) => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const contractDiscount = subtotal * (updatedQuote.contractDiscount / 100);\n    const customerDiscount = (subtotal - contractDiscount) * (updatedQuote.customerDiscount / 100);\n    const totalDiscount = contractDiscount + customerDiscount + updatedQuote.orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n\n    const finalQuote = {\n      ...updatedQuote,\n      subtotal,\n      totalDiscount,\n      finalTotal,\n      requiresApproval: finalTotal > updatedQuote.approvalThreshold\n    };\n\n    onQuoteUpdate(finalQuote);\n  };\n\n  const checkDependencies = (productId: string) => {\n    const deps = productDependencies.filter(dep => dep.productId === productId);\n    if (deps.length === 0) return [];\n\n    return deps.map(dep => {\n      const requiredProduct = getProduct(dep.requiredProductId);\n      return {\n        ...dep,\n        requiredProductName: requiredProduct?.name || 'Unknown Product'\n      };\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Quote Items */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Quote Configuration</h3>\n          <p className=\"text-sm text-gray-600\">Configure products and apply processings</p>\n        </div>\n        \n        <div className=\"divide-y divide-gray-200\">\n          {quote.items.map((item) => {\n            const product = getProduct(item.productId);\n            const dependencies = checkDependencies(item.productId);\n            const currentProcessingIds = item.appliedProcessings.map(ap => ap.processingId);\n            const availableProcessings = getAvailableProcessings(item.productId, currentProcessingIds);\n            \n            if (!product) return null;\n\n            return (\n              <div key={item.id} className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">{product.name}</h4>\n                    <p className=\"text-sm text-gray-600\">{product.description}</p>\n                    {product.dimensions && (\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {product.dimensions.width}\"W × {product.dimensions.height}\"H × {product.dimensions.depth}\"D\n                      </p>\n                    )}\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <label className=\"text-sm text-gray-600\">Qty:</label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={item.quantity}\n                        onChange={(e) => updateQuantity(item.id, parseInt(e.target.value) || 1)}\n                        className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n                      />\n                    </div>\n                    \n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-semibold text-gray-900\">\n                        ${item.totalPrice.toFixed(2)}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">\n                        Base: ${(item.basePrice * item.quantity).toFixed(2)}\n                      </p>\n                    </div>\n                    \n                    <button\n                      onClick={() => removeItem(item.id)}\n                      className=\"text-red-600 hover:text-red-800 p-1\"\n                      title=\"Remove item\"\n                    >\n                      ✕\n                    </button>\n                  </div>\n                </div>\n\n                {/* Dependencies Warning */}\n                {dependencies.length > 0 && (\n                  <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\n                    <h5 className=\"text-sm font-medium text-yellow-800 mb-2\">Product Dependencies:</h5>\n                    <ul className=\"text-sm text-yellow-700 space-y-1\">\n                      {dependencies.map((dep) => (\n                        <li key={dep.id}>\n                          • {dep.isAutomatic ? 'Auto-adds' : 'Consider adding'}: {dep.requiredProductName} \n                          {dep.quantityFormula !== '1' && ` (${dep.quantityFormula})`}\n                          <span className=\"text-xs ml-2\">- {dep.description}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                {/* Applied Processings */}\n                {item.appliedProcessings.length > 0 && (\n                  <div className=\"mb-4\">\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Applied Processings:</h5>\n                    <div className=\"space-y-2\">\n                      {item.appliedProcessings.map((ap) => {\n                        const processing = getProcessing(ap.processingId);\n                        return (\n                          <div key={ap.processingId} className=\"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\">\n                            <div>\n                              <span className=\"text-sm font-medium text-blue-900\">{processing?.name}</span>\n                              <span className=\"text-xs text-blue-700 ml-2\">{processing?.description}</span>\n                            </div>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-sm font-medium text-blue-900\">\n                                +${ap.calculatedPrice.toFixed(2)}\n                              </span>\n                              <button\n                                onClick={() => removeProcessingFromItem(item.id, ap.processingId)}\n                                className=\"text-red-600 hover:text-red-800 text-xs\"\n                              >\n                                Remove\n                              </button>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n\n                {/* Available Processings */}\n                {availableProcessings.length > 0 && (\n                  <div>\n                    <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Available Processings:</h5>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                      {availableProcessings.map((processing) => (\n                        <button\n                          key={processing.id}\n                          onClick={() => addProcessingToItem(item.id, processing.id)}\n                          className=\"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\"\n                        >\n                          <div className=\"flex justify-between items-start\">\n                            <div>\n                              <h6 className=\"text-sm font-medium text-gray-900\">{processing.name}</h6>\n                              <p className=\"text-xs text-gray-600\">{processing.description}</p>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-sm font-medium text-green-600\">\n                                {processing.pricingType === 'percentage' \n                                  ? `${(processing.price * 100).toFixed(0)}%`\n                                  : `$${processing.price.toFixed(2)}`\n                                }\n                              </p>\n                              <p className=\"text-xs text-gray-500\">{processing.pricingType.replace('_', ' ')}</p>\n                            </div>\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Quote Totals & Discounts */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Enterprise Quote Summary</h3>\n        \n        <div className=\"space-y-3\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Subtotal:</span>\n            <span className=\"font-medium\">${quote.subtotal.toFixed(2)}</span>\n          </div>\n          \n          {quote.contractDiscount > 0 && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Contract Discount ({quote.contractDiscount}%):</span>\n              <span className=\"text-red-600\">-${(quote.subtotal * quote.contractDiscount / 100).toFixed(2)}</span>\n            </div>\n          )}\n          \n          {quote.customerDiscount > 0 && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Customer Discount ({quote.customerDiscount}%):</span>\n              <span className=\"text-red-600\">-${((quote.subtotal - quote.subtotal * quote.contractDiscount / 100) * quote.customerDiscount / 100).toFixed(2)}</span>\n            </div>\n          )}\n          \n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Order Discount:</span>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={orderDiscount}\n                onChange={(e) => setOrderDiscount(parseFloat(e.target.value) || 0)}\n                className=\"w-24 px-2 py-1 border border-gray-300 rounded text-right\"\n                placeholder=\"0.00\"\n              />\n              <button\n                onClick={applyOrderDiscount}\n                className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n              >\n                Apply\n              </button>\n            </div>\n          </div>\n\n          <div className=\"pt-3 border-t border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-lg font-semibold text-gray-900\">Final Total:</span>\n              <span className=\"text-xl font-bold text-green-600\">${quote.finalTotal.toFixed(2)}</span>\n            </div>\n          </div>\n\n          {quote.requiresApproval && (\n            <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\n              <p className=\"text-sm text-yellow-800\">\n                ⚠️ This quote requires approval as it exceeds $&gt;{quote.approvalThreshold.toLocaleString()}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EnterpriseQuoteBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}