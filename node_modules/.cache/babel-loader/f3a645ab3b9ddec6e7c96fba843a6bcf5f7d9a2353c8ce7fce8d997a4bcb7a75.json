{"ast":null,"code":"var _jsxFileName = \"/Users/dkjesuschua/Documents/demo_cpq/src/components/SimplifiedQuoteBuilder.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SimplifiedQuoteBuilder = ({\n  quote,\n  rooms,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  _s();\n  var _getRoom;\n  console.log('SimplifiedQuoteBuilder: quote.items count:', quote.items.length);\n  console.log('SimplifiedQuoteBuilder: products count:', products.length);\n  console.log('SimplifiedQuoteBuilder: processings count:', processings.length);\n  const [selectedRoomFilter, setSelectedRoomFilter] = useState('all');\n  const [orderDiscount, setOrderDiscount] = useState(quote.orderDiscount);\n  const getProduct = productId => products.find(p => p.id === productId);\n  const getProcessing = processingId => processings.find(p => p.id === processingId);\n  const getRoom = roomId => rooms.find(r => r.id === roomId);\n  const filteredItems = selectedRoomFilter === 'all' ? quote.items : quote.items.filter(item => item.roomId === selectedRoomFilter);\n  console.log('SimplifiedQuoteBuilder: filteredItems count:', filteredItems.length);\n  if (filteredItems.length > 0) {\n    console.log('SimplifiedQuoteBuilder: First item:', filteredItems[0]);\n    const firstProduct = getProduct(filteredItems[0].productId);\n    console.log('SimplifiedQuoteBuilder: First product found:', !!firstProduct, firstProduct === null || firstProduct === void 0 ? void 0 : firstProduct.name);\n  }\n  const updateQuantity = (itemId, newQuantity) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          quantity: newQuantity\n        };\n        updatedItem.totalPrice = updatedItem.basePrice * newQuantity + updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const removeItem = itemId => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const getAvailableProcessings = (productId, currentProcessings) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    // Get processings applicable to this product category\n    let available = processings.filter(proc => proc.applicableProductCategories.includes(product.category));\n\n    // Apply mutual exclusion rules\n    const mutualExclusionRules = processingRules.filter(rule => rule.type === 'mutual_exclusion');\n    mutualExclusionRules.forEach(rule => {\n      const hasConflicting = currentProcessings.some(procId => {\n        var _rule$conditions$proc;\n        return (_rule$conditions$proc = rule.conditions.processingIds) === null || _rule$conditions$proc === void 0 ? void 0 : _rule$conditions$proc.includes(procId);\n      });\n      if (hasConflicting && rule.actions.excludeProcessings) {\n        available = available.filter(proc => {\n          var _rule$actions$exclude;\n          return !((_rule$actions$exclude = rule.actions.excludeProcessings) !== null && _rule$actions$exclude !== void 0 && _rule$actions$exclude.includes(proc.id));\n        });\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n    return available;\n  };\n  const addProcessingToItem = (itemId, processingId) => {\n    const item = quote.items.find(i => i.id === itemId);\n    const processing = getProcessing(processingId);\n    const product = item ? getProduct(item.productId) : null;\n    if (!item || !processing || !product) return;\n\n    // Calculate processing price\n    let calculatedPrice = 0;\n    if (processing.pricingType === 'per_unit') {\n      calculatedPrice = processing.price * item.quantity;\n    } else if (processing.pricingType === 'percentage') {\n      calculatedPrice = item.basePrice * item.quantity * processing.price;\n    } else if (processing.pricingType === 'per_dimension' && product.dimensions) {\n      calculatedPrice = (product.dimensions.width || 0) * processing.price;\n    }\n    const updatedItems = quote.items.map(i => {\n      if (i.id === itemId) {\n        const updatedItem = {\n          ...i,\n          appliedProcessings: [...i.appliedProcessings, {\n            processingId,\n            calculatedPrice\n          }]\n        };\n        updatedItem.totalPrice = updatedItem.basePrice * updatedItem.quantity + updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return i;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const removeProcessingFromItem = (itemId, processingId) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n        updatedItem.totalPrice = updatedItem.basePrice * updatedItem.quantity + updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n    recalculateQuote({\n      ...quote,\n      items: updatedItems\n    });\n  };\n  const applyOrderDiscount = () => {\n    const updatedQuote = {\n      ...quote,\n      orderDiscount\n    };\n    recalculateQuote(updatedQuote);\n  };\n  const recalculateQuote = updatedQuote => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const customerDiscount = subtotal * (updatedQuote.customerDiscount / 100);\n    const totalDiscount = customerDiscount + updatedQuote.orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n    const finalQuote = {\n      ...updatedQuote,\n      subtotal,\n      totalDiscount,\n      finalTotal,\n      requiresApproval: finalTotal > updatedQuote.approvalThreshold\n    };\n    onQuoteUpdate(finalQuote);\n  };\n\n  // Group items by room for better organization\n  const itemsByRoom = quote.items.reduce((acc, item) => {\n    const roomId = item.roomId;\n    if (!acc[roomId]) acc[roomId] = [];\n    acc[roomId].push(item);\n    return acc;\n  }, {});\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Filter by Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedRoomFilter,\n          onChange: e => setSelectedRoomFilter(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: [\"All Rooms (\", quote.items.length, \" items)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), rooms.map(room => {\n            const roomItems = quote.items.filter(item => item.roomId === room.id);\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: room.id,\n              children: [room.name, \" (\", roomItems.length, \" items)\"]\n            }, room.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: selectedRoomFilter === 'all' ?\n      // Show all rooms\n      rooms.map(room => {\n        const roomItems = itemsByRoom[room.id] || [];\n        if (roomItems.length === 0) return null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-gray-200 bg-blue-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: room.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [roomItems.length, \" items\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divide-y divide-gray-200\",\n            children: roomItems.map(item => /*#__PURE__*/_jsxDEV(ItemRow, {\n              item: item,\n              product: getProduct(item.productId),\n              getProcessing: getProcessing,\n              getAvailableProcessings: getAvailableProcessings,\n              updateQuantity: updateQuantity,\n              removeItem: removeItem,\n              addProcessingToItem: addProcessingToItem,\n              removeProcessingFromItem: removeProcessingFromItem\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this)]\n        }, room.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }, this);\n      }) :\n      /*#__PURE__*/\n      // Show single room\n      _jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: [((_getRoom = getRoom(selectedRoomFilter)) === null || _getRoom === void 0 ? void 0 : _getRoom.name) || 'Room', \" Items\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-gray-200\",\n          children: filteredItems.map(item => /*#__PURE__*/_jsxDEV(ItemRow, {\n            item: item,\n            product: getProduct(item.productId),\n            getProcessing: getProcessing,\n            getAvailableProcessings: getAvailableProcessings,\n            updateQuantity: updateQuantity,\n            removeItem: removeItem,\n            addProcessingToItem: addProcessingToItem,\n            removeProcessingFromItem: removeProcessingFromItem\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Quote Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Subtotal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: [\"$\", quote.subtotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), quote.customerDiscount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: [\"Customer Discount (\", quote.customerDiscount, \"%):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-600\",\n            children: [\"-$\", (quote.subtotal * quote.customerDiscount / 100).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Order Discount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              step: \"0.01\",\n              value: orderDiscount,\n              onChange: e => setOrderDiscount(parseFloat(e.target.value) || 0),\n              className: \"w-24 px-2 py-1 border border-gray-300 rounded text-right\",\n              placeholder: \"0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: applyOrderDiscount,\n              className: \"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\",\n              children: \"Apply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-3 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Final Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-bold text-green-600\",\n              children: [\"$\", quote.finalTotal.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), quote.requiresApproval && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-yellow-800\",\n            children: [\"\\u26A0\\uFE0F This quote requires approval as it exceeds $\", quote.approvalThreshold.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\n\n// Extracted ItemRow component for cleaner code\n_s(SimplifiedQuoteBuilder, \"X45rKJKx3TEbBLoFdkrJE/RttyY=\");\n_c = SimplifiedQuoteBuilder;\nconst ItemRow = ({\n  item,\n  product,\n  getProcessing,\n  getAvailableProcessings,\n  updateQuantity,\n  removeItem,\n  addProcessingToItem,\n  removeProcessingFromItem\n}) => {\n  if (!product) return null;\n  const currentProcessingIds = item.appliedProcessings.map(ap => ap.processingId);\n  const availableProcessings = getAvailableProcessings(item.productId, currentProcessingIds);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), product.dimensions && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: [product.dimensions.width, \"\\\"W \\xD7 \", product.dimensions.height, \"\\\"H \\xD7 \", product.dimensions.depth, \"\\\"D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Qty:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            value: item.quantity,\n            onChange: e => updateQuantity(item.id, parseInt(e.target.value) || 1),\n            className: \"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: [\"$\", item.totalPrice.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Base: $\", (item.basePrice * item.quantity).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeItem(item.id),\n          className: \"text-red-600 hover:text-red-800 p-1\",\n          title: \"Remove item\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), item.appliedProcessings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-sm font-medium text-gray-700 mb-2\",\n        children: \"Applied Processings:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: item.appliedProcessings.map(ap => {\n          const processing = getProcessing(ap.processingId);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-blue-900\",\n                children: processing === null || processing === void 0 ? void 0 : processing.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-blue-700 ml-2\",\n                children: processing === null || processing === void 0 ? void 0 : processing.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-blue-900\",\n                children: [\"+$\", ap.calculatedPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeProcessingFromItem(item.id, ap.processingId),\n                className: \"text-red-600 hover:text-red-800 text-xs\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 19\n            }, this)]\n          }, ap.processingId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this), availableProcessings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-sm font-medium text-gray-700 mb-2\",\n        children: \"Available Processings:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",\n        children: availableProcessings.map(processing => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addProcessingToItem(item.id, processing.id),\n          className: \"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"text-sm font-medium text-gray-900\",\n                children: processing.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600\",\n                children: processing.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-green-600\",\n                children: processing.pricingType === 'percentage' ? `${(processing.price * 100).toFixed(0)}%` : `$${processing.price.toFixed(2)}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: processing.pricingType.replace('_', ' ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this)\n        }, processing.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ItemRow;\nexport default SimplifiedQuoteBuilder;\nvar _c, _c2;\n$RefreshReg$(_c, \"SimplifiedQuoteBuilder\");\n$RefreshReg$(_c2, \"ItemRow\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SimplifiedQuoteBuilder","quote","rooms","products","processings","processingRules","productDependencies","onQuoteUpdate","_s","_getRoom","console","log","items","length","selectedRoomFilter","setSelectedRoomFilter","orderDiscount","setOrderDiscount","getProduct","productId","find","p","id","getProcessing","processingId","getRoom","roomId","r","filteredItems","filter","item","firstProduct","name","updateQuantity","itemId","newQuantity","updatedItems","map","updatedItem","quantity","totalPrice","basePrice","appliedProcessings","reduce","sum","ap","calculatedPrice","recalculateQuote","removeItem","getAvailableProcessings","currentProcessings","product","available","proc","applicableProductCategories","includes","category","mutualExclusionRules","rule","type","forEach","hasConflicting","some","procId","_rule$conditions$proc","conditions","processingIds","actions","excludeProcessings","_rule$actions$exclude","addProcessingToItem","i","processing","pricingType","price","dimensions","width","removeProcessingFromItem","applyOrderDiscount","updatedQuote","subtotal","customerDiscount","totalDiscount","finalTotal","finalQuote","requiresApproval","approvalThreshold","itemsByRoom","acc","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","room","roomItems","ItemRow","toFixed","min","step","parseFloat","placeholder","onClick","toLocaleString","_c","currentProcessingIds","availableProcessings","description","height","depth","parseInt","title","replace","_c2","$RefreshReg$"],"sources":["/Users/dkjesuschua/Documents/demo_cpq/src/components/SimplifiedQuoteBuilder.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Quote, Product, Processing, ProcessingRule, ProductDependency, Room } from '../types';\n\ninterface SimplifiedQuoteBuilderProps {\n  quote: Quote;\n  rooms: Room[];\n  products: Product[];\n  processings: Processing[];\n  processingRules: ProcessingRule[];\n  productDependencies: ProductDependency[];\n  onQuoteUpdate: (quote: Quote) => void;\n}\n\nconst SimplifiedQuoteBuilder: React.FC<SimplifiedQuoteBuilderProps> = ({\n  quote,\n  rooms,\n  products,\n  processings,\n  processingRules,\n  productDependencies,\n  onQuoteUpdate\n}) => {\n  console.log('SimplifiedQuoteBuilder: quote.items count:', quote.items.length);\n  console.log('SimplifiedQuoteBuilder: products count:', products.length);\n  console.log('SimplifiedQuoteBuilder: processings count:', processings.length);\n  \n  const [selectedRoomFilter, setSelectedRoomFilter] = useState<string>('all');\n  const [orderDiscount, setOrderDiscount] = useState(quote.orderDiscount);\n\n  const getProduct = (productId: string) => products.find(p => p.id === productId);\n  const getProcessing = (processingId: string) => processings.find(p => p.id === processingId);\n  const getRoom = (roomId: string) => rooms.find(r => r.id === roomId);\n\n  const filteredItems = selectedRoomFilter === 'all' \n    ? quote.items \n    : quote.items.filter(item => item.roomId === selectedRoomFilter);\n    \n  console.log('SimplifiedQuoteBuilder: filteredItems count:', filteredItems.length);\n  if (filteredItems.length > 0) {\n    console.log('SimplifiedQuoteBuilder: First item:', filteredItems[0]);\n    const firstProduct = getProduct(filteredItems[0].productId);\n    console.log('SimplifiedQuoteBuilder: First product found:', !!firstProduct, firstProduct?.name);\n  }\n\n  const updateQuantity = (itemId: string, newQuantity: number) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = { ...item, quantity: newQuantity };\n        updatedItem.totalPrice = (updatedItem.basePrice * newQuantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeItem = (itemId: string) => {\n    const updatedItems = quote.items.filter(item => item.id !== itemId);\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const getAvailableProcessings = (productId: string, currentProcessings: string[]) => {\n    const product = getProduct(productId);\n    if (!product) return [];\n\n    // Get processings applicable to this product category\n    let available = processings.filter(proc => \n      proc.applicableProductCategories.includes(product.category)\n    );\n\n    // Apply mutual exclusion rules\n    const mutualExclusionRules = processingRules.filter(rule => \n      rule.type === 'mutual_exclusion'\n    );\n\n    mutualExclusionRules.forEach(rule => {\n      const hasConflicting = currentProcessings.some(procId => \n        rule.conditions.processingIds?.includes(procId)\n      );\n      \n      if (hasConflicting && rule.actions.excludeProcessings) {\n        available = available.filter(proc => \n          !rule.actions.excludeProcessings?.includes(proc.id)\n        );\n      }\n    });\n\n    // Remove already applied processings\n    available = available.filter(proc => !currentProcessings.includes(proc.id));\n\n    return available;\n  };\n\n  const addProcessingToItem = (itemId: string, processingId: string) => {\n    const item = quote.items.find(i => i.id === itemId);\n    const processing = getProcessing(processingId);\n    const product = item ? getProduct(item.productId) : null;\n    \n    if (!item || !processing || !product) return;\n\n    // Calculate processing price\n    let calculatedPrice = 0;\n    if (processing.pricingType === 'per_unit') {\n      calculatedPrice = processing.price * item.quantity;\n    } else if (processing.pricingType === 'percentage') {\n      calculatedPrice = item.basePrice * item.quantity * processing.price;\n    } else if (processing.pricingType === 'per_dimension' && product.dimensions) {\n      calculatedPrice = (product.dimensions.width || 0) * processing.price;\n    }\n\n    const updatedItems = quote.items.map(i => {\n      if (i.id === itemId) {\n        const updatedItem = {\n          ...i,\n          appliedProcessings: [\n            ...i.appliedProcessings,\n            { processingId, calculatedPrice }\n          ]\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return i;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const removeProcessingFromItem = (itemId: string, processingId: string) => {\n    const updatedItems = quote.items.map(item => {\n      if (item.id === itemId) {\n        const updatedItem = {\n          ...item,\n          appliedProcessings: item.appliedProcessings.filter(ap => ap.processingId !== processingId)\n        };\n        updatedItem.totalPrice = (updatedItem.basePrice * updatedItem.quantity) + \n          updatedItem.appliedProcessings.reduce((sum, ap) => sum + ap.calculatedPrice, 0);\n        return updatedItem;\n      }\n      return item;\n    });\n\n    recalculateQuote({ ...quote, items: updatedItems });\n  };\n\n  const applyOrderDiscount = () => {\n    const updatedQuote = { ...quote, orderDiscount };\n    recalculateQuote(updatedQuote);\n  };\n\n  const recalculateQuote = (updatedQuote: Quote) => {\n    const subtotal = updatedQuote.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const customerDiscount = subtotal * (updatedQuote.customerDiscount / 100);\n    const totalDiscount = customerDiscount + updatedQuote.orderDiscount;\n    const finalTotal = subtotal - totalDiscount;\n\n    const finalQuote = {\n      ...updatedQuote,\n      subtotal,\n      totalDiscount,\n      finalTotal,\n      requiresApproval: finalTotal > updatedQuote.approvalThreshold\n    };\n\n    onQuoteUpdate(finalQuote);\n  };\n\n  // Group items by room for better organization\n  const itemsByRoom = quote.items.reduce((acc, item) => {\n    const roomId = item.roomId;\n    if (!acc[roomId]) acc[roomId] = [];\n    acc[roomId].push(item);\n    return acc;\n  }, {} as Record<string, typeof quote.items>);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Room Filter */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Filter by Room</h3>\n          <select\n            value={selectedRoomFilter}\n            onChange={(e) => setSelectedRoomFilter(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Rooms ({quote.items.length} items)</option>\n            {rooms.map(room => {\n              const roomItems = quote.items.filter(item => item.roomId === room.id);\n              return (\n                <option key={room.id} value={room.id}>\n                  {room.name} ({roomItems.length} items)\n                </option>\n              );\n            })}\n          </select>\n        </div>\n      </div>\n\n      {/* Quote Items by Room */}\n      <div className=\"space-y-6\">\n        {selectedRoomFilter === 'all' ? (\n          // Show all rooms\n          rooms.map(room => {\n            const roomItems = itemsByRoom[room.id] || [];\n            if (roomItems.length === 0) return null;\n\n            return (\n              <div key={room.id} className=\"bg-white rounded-lg shadow\">\n                <div className=\"p-4 border-b border-gray-200 bg-blue-50\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">{room.name}</h3>\n                  <p className=\"text-sm text-gray-600\">{roomItems.length} items</p>\n                </div>\n                <div className=\"divide-y divide-gray-200\">\n                  {roomItems.map(item => (\n                    <ItemRow\n                      key={item.id}\n                      item={item}\n                      product={getProduct(item.productId)}\n                      getProcessing={getProcessing}\n                      getAvailableProcessings={getAvailableProcessings}\n                      updateQuantity={updateQuantity}\n                      removeItem={removeItem}\n                      addProcessingToItem={addProcessingToItem}\n                      removeProcessingFromItem={removeProcessingFromItem}\n                    />\n                  ))}\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          // Show single room\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"p-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">\n                {getRoom(selectedRoomFilter)?.name || 'Room'} Items\n              </h3>\n            </div>\n            <div className=\"divide-y divide-gray-200\">\n              {filteredItems.map(item => (\n                <ItemRow\n                  key={item.id}\n                  item={item}\n                  product={getProduct(item.productId)}\n                  getProcessing={getProcessing}\n                  getAvailableProcessings={getAvailableProcessings}\n                  updateQuantity={updateQuantity}\n                  removeItem={removeItem}\n                  addProcessingToItem={addProcessingToItem}\n                  removeProcessingFromItem={removeProcessingFromItem}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Quote Totals */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Quote Summary</h3>\n        \n        <div className=\"space-y-3\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Subtotal:</span>\n            <span className=\"font-medium\">${quote.subtotal.toFixed(2)}</span>\n          </div>\n          \n          {quote.customerDiscount > 0 && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Customer Discount ({quote.customerDiscount}%):</span>\n              <span className=\"text-red-600\">-${(quote.subtotal * quote.customerDiscount / 100).toFixed(2)}</span>\n            </div>\n          )}\n          \n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Order Discount:</span>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={orderDiscount}\n                onChange={(e) => setOrderDiscount(parseFloat(e.target.value) || 0)}\n                className=\"w-24 px-2 py-1 border border-gray-300 rounded text-right\"\n                placeholder=\"0.00\"\n              />\n              <button\n                onClick={applyOrderDiscount}\n                className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n              >\n                Apply\n              </button>\n            </div>\n          </div>\n\n          <div className=\"pt-3 border-t border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-lg font-semibold text-gray-900\">Final Total:</span>\n              <span className=\"text-xl font-bold text-green-600\">${quote.finalTotal.toFixed(2)}</span>\n            </div>\n          </div>\n\n          {quote.requiresApproval && (\n            <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded\">\n              <p className=\"text-sm text-yellow-800\">\n                ⚠️ This quote requires approval as it exceeds ${quote.approvalThreshold.toLocaleString()}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Extracted ItemRow component for cleaner code\nconst ItemRow: React.FC<{\n  item: any;\n  product: any;\n  getProcessing: any;\n  getAvailableProcessings: any;\n  updateQuantity: any;\n  removeItem: any;\n  addProcessingToItem: any;\n  removeProcessingFromItem: any;\n}> = ({\n  item,\n  product,\n  getProcessing,\n  getAvailableProcessings,\n  updateQuantity,\n  removeItem,\n  addProcessingToItem,\n  removeProcessingFromItem\n}) => {\n  if (!product) return null;\n\n  const currentProcessingIds = item.appliedProcessings.map((ap: any) => ap.processingId);\n  const availableProcessings = getAvailableProcessings(item.productId, currentProcessingIds);\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-start mb-4\">\n        <div className=\"flex-1\">\n          <h4 className=\"text-lg font-medium text-gray-900\">{product.name}</h4>\n          <p className=\"text-sm text-gray-600\">{product.description}</p>\n          {product.dimensions && (\n            <p className=\"text-xs text-gray-500 mt-1\">\n              {product.dimensions.width}\"W × {product.dimensions.height}\"H × {product.dimensions.depth}\"D\n            </p>\n          )}\n        </div>\n        \n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-2\">\n            <label className=\"text-sm text-gray-600\">Qty:</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={item.quantity}\n              onChange={(e) => updateQuantity(item.id, parseInt(e.target.value) || 1)}\n              className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center\"\n            />\n          </div>\n          \n          <div className=\"text-right\">\n            <p className=\"text-lg font-semibold text-gray-900\">\n              ${item.totalPrice.toFixed(2)}\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              Base: ${(item.basePrice * item.quantity).toFixed(2)}\n            </p>\n          </div>\n          \n          <button\n            onClick={() => removeItem(item.id)}\n            className=\"text-red-600 hover:text-red-800 p-1\"\n            title=\"Remove item\"\n          >\n            ✕\n          </button>\n        </div>\n      </div>\n\n      {/* Applied Processings */}\n      {item.appliedProcessings.length > 0 && (\n        <div className=\"mb-4\">\n          <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Applied Processings:</h5>\n          <div className=\"space-y-2\">\n            {item.appliedProcessings.map((ap: any) => {\n              const processing = getProcessing(ap.processingId);\n              return (\n                <div key={ap.processingId} className=\"flex justify-between items-center bg-blue-50 px-3 py-2 rounded\">\n                  <div>\n                    <span className=\"text-sm font-medium text-blue-900\">{processing?.name}</span>\n                    <span className=\"text-xs text-blue-700 ml-2\">{processing?.description}</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-sm font-medium text-blue-900\">\n                      +${ap.calculatedPrice.toFixed(2)}\n                    </span>\n                    <button\n                      onClick={() => removeProcessingFromItem(item.id, ap.processingId)}\n                      className=\"text-red-600 hover:text-red-800 text-xs\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Available Processings */}\n      {availableProcessings.length > 0 && (\n        <div>\n          <h5 className=\"text-sm font-medium text-gray-700 mb-2\">Available Processings:</h5>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n            {availableProcessings.map((processing: any) => (\n              <button\n                key={processing.id}\n                onClick={() => addProcessingToItem(item.id, processing.id)}\n                className=\"text-left p-3 border border-gray-200 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors\"\n              >\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <h6 className=\"text-sm font-medium text-gray-900\">{processing.name}</h6>\n                    <p className=\"text-xs text-gray-600\">{processing.description}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm font-medium text-green-600\">\n                      {processing.pricingType === 'percentage' \n                        ? `${(processing.price * 100).toFixed(0)}%`\n                        : `$${processing.price.toFixed(2)}`\n                      }\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{processing.pricingType.replace('_', ' ')}</p>\n                  </div>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SimplifiedQuoteBuilder;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}